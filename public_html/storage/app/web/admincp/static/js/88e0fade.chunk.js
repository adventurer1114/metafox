"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-user-blocks-ProfileHeader-Block"],{46060:function(e,t,a){a.d(t,{sU:function(){return r.Z},zp:function(){return i.Z}}),a(26830),a(36611);var r=a(83273),i=a(43115)},46714:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var r=a(85597),i=a(44279),n=a(84116),l=a(21241),o=a(41547),s=a(27274),c=a(30120),d=a(21822),m=a(81719),p=a(67294),u=a(46060),g=a(91647),f=a(1469),h=a.n(f);let v=({isOwner:e})=>{let{usePageParams:t,i18n:a}=(0,r.OgA)(),i=t(),n=(0,r.oHF)("activitypoint","activitypoint","getStatistic"),[l]=(0,u.zp)({dataSource:n,pageParams:i});if(!n||!l)return null;let{items:s}=Object.assign({},l),d=h()(s)&&s[0];return d?e?p.createElement(c.Z,{display:"flex",color:"border.primary",alignItems:"center"},p.createElement(o.zb,{icon:"ico-star-circle-o",sx:{pr:.5}}),p.createElement(r.rUS,{to:"activitypoint"},p.createElement(c.Z,{display:"flex",color:"border.primary",alignItems:"center"},a.formatMessage({id:"activity_point_summary"},{value:()=>{return p.createElement(g.Z,{sx:{pl:.5},variant:"h6"},null==d?void 0:d.value)}})))):p.createElement(c.Z,{display:"flex",color:"border.primary",alignItems:"center"},p.createElement(o.zb,{icon:"ico-star-circle-o",sx:{pr:.5}}),a.formatMessage({id:"activity_point_summary"},{value:()=>{return p.createElement(g.Z,{sx:{pl:.5},variant:"h6"},null==d?void 0:d.value)}})):null};var b=a(71682),x=a(22410),E=a(73327),w=(0,x.Z)(e=>(0,E.Z)({profileUserWrapper:{padding:e.spacing(2),background:e.palette.background.paper,borderBottom:e.mixins.border("secondary"),[e.breakpoints.down("sm")]:{"& $userInfo":{flexWrap:"wrap"},"& $avatarWrapper":{marginTop:e.spacing(-8)},"& $avatar":{width:90,height:90},"& $name":{minWidth:"100%",marginLeft:0}}},userInfo:{display:"flex"},avatarWrapper:{marginTop:e.spacing(-12.5),padding:e.spacing(.5),borderRadius:"999px",background:e.palette.background.paper},avatar:{width:160,height:160,borderRadius:"999px",background:e.palette.background.default},name:{marginLeft:e.spacing(3),flex:1,minWidth:0},menu:{background:e.palette.background.paper,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,height:e.spacing(7.5),display:"flex",alignItems:"center","& .MuiSkeleton-root":{padding:e.spacing(2),marginLeft:e.spacing(2)}}}),{name:"UserProfileHeaderSkeleton"});function y(){let e=w();return p.createElement(o.W2,{maxWidth:"md",disableGutters:!0},p.createElement(b.Z,{variant:"rectangular",sx:{height:{sm:320,xs:179}},animation:!1}),p.createElement("div",{className:e.profileUserWrapper},p.createElement("div",{className:e.userInfo},p.createElement("div",{className:e.avatarWrapper},p.createElement("div",{className:e.avatar})),p.createElement("div",{className:e.name},p.createElement(b.Z,{variant:"text",width:200,height:32}),p.createElement(b.Z,{variant:"text",width:"70%"}),p.createElement(b.Z,{variant:"text",width:"50%"})))),p.createElement("div",{className:e.menu},p.createElement(b.Z,{variant:"button",width:100,height:20}),p.createElement(b.Z,{variant:"button",width:100,height:20}),p.createElement(b.Z,{variant:"button",width:100,height:20}),p.createElement(b.Z,{variant:"button",width:100,height:20}),p.createElement(b.Z,{variant:"button",width:100,height:20}),p.createElement(b.Z,{variant:"button",width:100,height:20})))}var k=(0,x.Z)(e=>{var t;return(0,E.Z)({root:{},imgWraper:{height:300,overflow:"hidden"},wrapper:{display:"block"},coverPhotoWrapper:{display:"block",height:320,overflow:"hidden",position:"relative"},coverPhotoInner:{display:"block",position:"absolute",left:0,top:0,right:0,bottom:0,"& img":{position:"relative",width:"100%",objectFit:"cover"}},userInfoContainer:{backgroundColor:e.mixins.backgroundColor("paper"),[e.breakpoints.down("sm")]:{flexFlow:"column",width:"100%",alignItems:"center"}},userInfo:{[e.breakpoints.down("sm")]:{flexFlow:"column",width:"100%",alignItems:"center",marginBottom:e.spacing(2)}},wrapperButtonInline:{display:"flex",justifyContent:" center",alignItems:"stretch","& button":{marginLeft:e.spacing(1),textTransform:"capitalize",fontWeight:"bold",whiteSpace:"nowrap",borderRadius:e.spacing(.5),fontSize:e.mixins.pxToRem(13),padding:e.spacing(.5,1.25),marginBottom:e.spacing(1),minWidth:e.spacing(4),height:e.spacing(4),"& .ico":{fontSize:e.mixins.pxToRem(13)}},[e.breakpoints.down("sm")]:{flexFlow:"row wrap",padding:e.spacing(.5,0),flexDirection:"column","& button":{marginLeft:0,marginRight:e.spacing(1)}}},profileActionMenu:{padding:`${e.spacing(.5,1.25)} !important`,minWidth:e.spacing(4),height:e.spacing(4)},title:{fontWeight:"bold",fontSize:e.mixins.pxToRem(24),color:e.palette.text.primary,margin:0,padding:0},summary:{},avatarWrapper:{marginTop:"-96px",marginRight:e.spacing(3),position:"relative",[e.breakpoints.down("sm")]:{marginRight:0}},userAvatar:{width:"164px",height:"164px",border:"2px solid",borderColor:e.palette.background.paper},profileUserWrapper:{},wrapperMenu:{backgroundColor:e.mixins.backgroundColor("paper"),display:"flex",paddingTop:e.spacing(1),borderTop:"solid 1px",borderTopColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary,borderBottomLeftRadius:8,borderBottomRightRadius:8,height:e.spacing(7.75),"& .MuiProfileMenu-tabItem":{padding:e.spacing(2)}},profileMenu:{flex:1,minWidth:0},profileHeaderContainer:{}})},{name:"UserProfileHeader"});let Z=(0,m.ZP)("div",{name:"ItemSummary"})(({theme:e})=>({color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(15),paddingTop:e.spacing(1),paddingRight:e.spacing(2),[e.breakpoints.down("sm")]:{paddingRight:0}})),W=(0,m.ZP)(o.zb,{name:"FeaturedIcon"})(({theme:e})=>({color:e.palette.primary.main,marginLeft:e.spacing(2)})),I=(0,m.ZP)("div",{name:"UserStickyWrapper"})(({theme:e})=>({position:"relative",left:16,transition:"all .2s","& a":{borderWidth:"thin",borderStyle:"solid",borderColor:e.palette.border.secondary}})),_=(0,m.ZP)("div",{name:"ProfileMenuStyled",shouldForwardProp:e=>"sticky"!==e})(({theme:e,sticky:t})=>({flex:1,minWidth:0,transition:"all .2s",...t&&{marginLeft:e.spacing(2.5),transition:"all .2s"}})),R=({item:e,identity:t,profileMenu:a,profileActionMenu:i,blockProps:m,handleAction:u,state:g,actions:f})=>{let{ItemActionMenu:h,usePageParams:b,ProfileHeaderCover:x,ProfileHeaderAvatar:E,useSession:w,getAcl:R,getSetting:C,assetUrl:N}=(0,r.OgA)(),{id:P,tab:z="home"}=b(),T=k(),{user:M}=w(),S=R(),U=C();if(!(null==e?void 0:e.profile_menu_settings)||!(null==e?void 0:e.profile_settings))return p.createElement(y,null);let{cover_photo_id:B,extra:H,cover_photo_position:L,profile_settings:A}=e,$=(0,s.Q4)(e.avatar,"200",N("user.no_image")),j=(0,s.Q4)(null==e?void 0:e.cover,"1024",N("user.cover_no_image")),F={item:e,acl:S,setting:U},O=(0,s.W$)(a.items,F),D=(0,s.W$)(i.items,F),G=D.slice(0,2),Q=D.slice(2);return p.createElement(l.gO,null,p.createElement(l.sU,null,p.createElement("div",{className:T.root},p.createElement("div",{className:T.wrapper},p.createElement(c.Z,null,p.createElement(x,{identity:t,image:j,imageId:B,alt:"",left:0,top:+L||0}),p.createElement("div",{className:T.profileUserWrapper},p.createElement(o.W2,{maxWidth:"md",disableGutters:!0,className:T.profileHeaderContainer},p.createElement(c.Z,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",p:2,className:T.userInfoContainer},p.createElement(c.Z,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",className:T.userInfo},p.createElement(E,{alt:(0,s.vK)(e.full_name),canEdit:null==H?void 0:H.can_edit,onEdit:f.editProfileHeaderAvatar,avatar:$,avatarId:e.avatar_id}),p.createElement("div",null,p.createElement("h1",{className:T.title},e.full_name,e.is_featured?p.createElement(W,{icon:"ico-check-circle"}):null),(null==A?void 0:A.profile_view_profile)?p.createElement(Z,null,p.createElement(n.ZP,{html:e.bio})):null)),p.createElement(c.Z,{display:"flex",flexDirection:"column",alignItems:{sm:"flex-end",xs:"flex-start"}},p.createElement("div",{className:T.wrapperButtonInline},G.map((e,t)=>p.createElement(d.Z,{key:e.label,variant:0===t?"contained":"outlined",startIcon:p.createElement(o.zb,{icon:e.icon}),onClick:()=>u(e.value),color:e.color||"primary",size:"small"},e.label)),(null==M?void 0:M.id)!==parseInt(P)&&(null==Q?void 0:Q.length)?p.createElement(h,{id:"actionMenu",label:"ActionMenu",handleAction:u,items:Q,control:p.createElement(d.Z,{variant:"outlined",color:"primary",size:"small",className:T.profileActionMenu},p.createElement(o.zb,{icon:"ico-dottedmore-o"}))}):null),(null==H?void 0:H.can_view_profile_activity_point)?p.createElement(v,{isOwner:(null==M?void 0:M.id)===parseInt(P)}):null)))),(null==A?void 0:A.profile_view_profile)&&p.createElement(o.PH,null,({sticky:t})=>p.createElement(o.W2,{maxWidth:"md",disableGutters:!0,className:T.profileHeaderContainer},p.createElement("div",{className:T.wrapperMenu},t?p.createElement(I,null,p.createElement(o.Yt,{user:e,size:48})):null,p.createElement(_,{sticky:t},p.createElement(o.DY,{items:O,activeTab:z,maxDisplayTab:5}))))))))))};R.displayName="UserProfileHeaderView";let C=(0,r.Uh$)((0,r.jEo)(R,i.Z));var N=(0,r.j4Z)({name:"UserProfileHeaderBlock",extendBlock:C})}}]);