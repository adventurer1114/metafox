"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-user-blocks-AccountSettings-Block"],{3071:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var n=a(85597),i=a(86706),l=a(21241),c=a(58314),r=a(67294),d=a(84635),m=a(21822),o=a(71682),s=a(30120);function u(){return r.createElement(s.Z,{"data-testid":"loadingIndicator"},r.createElement(o.Z,{animation:"wave",height:50,width:"50%"}),r.createElement(s.Z,{sx:{display:"flex",width:"150px",justifyContent:"space-between"}},r.createElement(o.Z,{height:50,width:"70px"}),r.createElement(o.Z,{height:50,width:"70px"})))}var E=a(22410),v=a(73327),g=(0,E.Z)(e=>{var t;return(0,v.Z)({root:{},item:{display:"flex",alignItems:"center",padding:"22px 0",justifyContent:"space-between",borderBottom:"solid 1px",borderBottomColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary,"&:first-of-type":{paddingTop:6},"&:last-child":{paddingBottom:6,borderBottom:"none"}},itemTitle:{width:210,fontSize:e.typography.body1.fontSize,lineHeight:1.6,fontWeight:e.typography.fontWeightBold,color:e.palette.text.primary},itemContentInner:{display:"flex",flexDirection:"column",[e.breakpoints.down("sm")]:{paddingTop:e.spacing(1)}},itemContent:{fontSize:e.typography.body1.fontSize,lineHeight:1.6,color:e.palette.text.primary,flex:1,"& .MuiFormControl-root":{padding:e.spacing(.5,0)}},itemButton:{display:"flex",justifyContent:"flex-end",width:200},btnEdit:{textTransform:"none",fontWeight:e.typography.fontWeightBold},inputEdit:{width:300,"& + $inputEdit":{marginTop:e.spacing(2)}},selectEdit:{width:300,height:40},itemText:{display:"flex",flex:1,[e.breakpoints.down("sm")]:{flexDirection:"column"}}})},{name:"AccountSetting"});function p({loaded:e,title:t,data:a}){let i=g(),{i18n:l}=(0,n.OgA)(),[s,E]=(0,r.useState)(!1);return r.createElement("div",{className:i.item,"data-testid":"editEmail"},r.createElement("div",{className:i.itemText},r.createElement("div",{className:i.itemTitle},t),r.createElement("div",{className:i.itemContent},s?r.createElement(d.dq,{successAction:c.Ov,dataSource:{apiUrl:"/user/account/email-form"},loadingComponent:r.createElement(u,null),onSuccess:()=>E(!1),onCancel:()=>E(!1)}):r.createElement("div",null,e?null==a?void 0:a.email:r.createElement(o.Z,{variant:"text",width:100})))),r.createElement("div",{className:i.itemButton},!s&&r.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!e,className:i.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>E(!0)},l.formatMessage({id:"edit"}))))}function f({title:e,data:t,loaded:a}){let i=g(),{i18n:l}=(0,n.OgA)(),[s,E]=(0,r.useState)(!1);return r.createElement("div",{className:i.item,"data-testid":"editName"},r.createElement("div",{className:i.itemText},r.createElement("div",{className:i.itemTitle},e),r.createElement("div",{className:i.itemContent},s?r.createElement(d.dq,{successAction:c.Ov,dataSource:{apiUrl:"/user/account/name-form"},onCancel:()=>E(!1),onSuccess:()=>E(!1),loadingComponent:r.createElement(u,null)}):r.createElement("div",null,a?null==t?void 0:t.full_name:r.createElement(o.Z,{variant:"text",width:100})))),r.createElement("div",{className:i.itemButton},!s&&r.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!a,className:i.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>E(!0)},l.formatMessage({id:"edit"}))))}function N({title:e,loaded:t}){let a=g(),{i18n:i}=(0,n.OgA)(),[l,s]=(0,r.useState)(!1);return r.createElement("div",{className:a.item,"data-testid":"editPassword"},r.createElement("div",{className:a.itemText},r.createElement("div",{className:a.itemTitle},e),r.createElement("div",{className:a.itemContent},l?r.createElement(d.dq,{successAction:c.Ov,dataSource:{apiUrl:"/user/account/password-form"},loadingComponent:r.createElement(u,null),onSuccess:()=>s(!1),onCancel:()=>s(!1)}):r.createElement("div",null,t?"**************":r.createElement(o.Z,{variant:"text",width:100})))),r.createElement("div",{className:a.itemButton},!l&&r.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!t,className:a.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>s(!0)},i.formatMessage({id:"edit"}))))}function h({loaded:e,title:t,data:a}){let i=g(),{i18n:l}=(0,n.OgA)(),[s,E]=(0,r.useState)(!1);return r.createElement("div",{className:i.item,"data-testid":"editCurrency"},r.createElement("div",{className:i.itemText},r.createElement("div",{className:i.itemTitle},t),r.createElement("div",{className:i.itemContent},s?r.createElement(d.dq,{successAction:c.Ov,dataSource:{apiUrl:"/user/account/currency-form"},loadingComponent:r.createElement(u,null),onSuccess:()=>E(!1),onCancel:()=>E(!1)}):r.createElement("div",null,e?null==a?void 0:a.currency_name:r.createElement(o.Z,{variant:"text",width:100})))),r.createElement("div",{className:i.itemButton},!s&&r.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!e,className:i.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>E(!0)},l.formatMessage({id:"edit"}))))}function x({loaded:e,title:t,data:a}){let i=g(),{i18n:l}=(0,n.OgA)(),[s,E]=(0,r.useState)(!1);return r.createElement("div",{className:i.item,"data-testid":"editLanguage"},r.createElement("div",{className:i.itemText},r.createElement("div",{className:i.itemTitle},t),r.createElement("div",{className:i.itemContent},s?r.createElement(d.dq,{successAction:c.Ov,dataSource:{apiUrl:"/user/account/language-form"},loadingComponent:r.createElement(u,null),onSuccess:()=>E(!1),onCancel:()=>E(!1)}):r.createElement("div",null,e?null==a?void 0:a.language_name:r.createElement(o.Z,{variant:"text",width:100})))),r.createElement("div",{className:i.itemButton},!s&&r.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!e,className:i.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>E(!0)},l.formatMessage({id:"edit"}))))}function y({title:e,data:t,loaded:a}){let i=g(),{i18n:l}=(0,n.OgA)(),[s,E]=(0,r.useState)(!1);return r.createElement("div",{className:i.item,"data-testid":"editUsername"},r.createElement("div",{className:i.itemText},r.createElement("div",{className:i.itemTitle},e),r.createElement("div",{className:i.itemContent},s?r.createElement(d.dq,{successAction:c.Ov,dataSource:{apiUrl:"/user/account/username-form"},loadingComponent:r.createElement(u,null),onSuccess:()=>E(!1),onCancel:()=>E(!1)}):r.createElement("div",null,a?t.user_name:r.createElement(o.Z,{variant:"text",width:100})))),r.createElement("div",{className:i.itemButton},!s&&r.createElement(m.Z,{"data-testid":"buttonEdit",disabled:!a,className:i.btnEdit,size:"medium",variant:"outlined",color:"primary",onClick:()=>E(!0)},l.formatMessage({id:"edit"}))))}function C({loaded:e,title:t,data:a}){let i=g(),{i18n:l}=(0,n.OgA)(),{extra:c}=a||{};return(null==c?void 0:c.can_delete_account)||!e?r.createElement("div",{className:i.item,"data-testid":"cancelAccount"},e?r.createElement(n.rUS,{to:"/user/remove/",color:"error.main"},l.formatMessage({id:"cancel_account"})):r.createElement(o.Z,{variant:"text",width:100})):null}let b=({data:e,loaded:t,title:a})=>{let i=g(),{i18n:d,dispatch:m}=(0,n.OgA)();return(0,r.useEffect)(()=>{m({type:c.KH})},[]),r.createElement(l.gO,{testid:"accountSettings"},r.createElement(l.ti,{title:a}),r.createElement(l.sU,null,r.createElement("div",{className:i.root},r.createElement(f,{loaded:t,title:d.formatMessage({id:"full_name"}),data:e}),r.createElement(y,{loaded:t,title:d.formatMessage({id:"username"}),data:e}),r.createElement(p,{loaded:t,title:d.formatMessage({id:"email_address"}),data:e}),r.createElement(N,{loaded:t,title:d.formatMessage({id:"password"}),data:e}),r.createElement(x,{loaded:t,title:d.formatMessage({id:"primary_language"}),data:e}),r.createElement(h,{loaded:t,title:d.formatMessage({id:"preferred_currency"}),data:e}),r.createElement(C,{loaded:t,data:e}))))},S=(0,i.$j)(e=>e.user.accountSettings)(b);var w=(0,n.j4Z)({extendBlock:S,defaults:{title:"account_settings",blockLayout:"Account Setting"}})}}]);