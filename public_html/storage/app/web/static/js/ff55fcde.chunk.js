(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-group-blocks-ProfileHeader-Block"],{88360:function(e,t,a){var n=a(65776);e.exports=function(e,t){var a=e.length;if(a)return n(t+=t<0?a:0,a)?e[t]:void 0}},98491:function(e,t,a){var n=a(88360),i=a(40554);e.exports=function(e,t){return e&&e.length?n(e,i(t)):void 0}},5839:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return H}});var n=a(85597),i=a(40271),r=a(90717),l=a(21241),o=a(76224),c=a(27274),m=a(7961),s=a(30120),d=a(21822),p=a(81719),u=a(91647),g=a(41609),f=a.n(g),h=a(98491),b=a.n(h),v=a(67294),E=a(90503),x=a(71682),Z=a(22410),w=a(73327),y=(0,Z.Z)(e=>(0,w.Z)({root:{},profileUserWrapper:{padding:e.spacing(2),background:e.palette.background.paper,borderBottom:e.mixins.border("secondary"),display:"flex"},name:{},type:{marginTop:e.spacing(1)},btn:{marginLeft:"auto"},menu:{marginBottom:e.spacing(2),background:e.palette.background.paper,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,height:e.spacing(7.5),display:"flex",alignItems:"center","& > .MuiSkeleton-root":{padding:e.spacing(2),marginLeft:e.spacing(2)}},btnGroups:{display:"flex",marginLeft:"auto",marginRight:e.spacing(2),"& .MuiSkeleton-root":{padding:e.spacing(1),marginLeft:e.spacing(1)}}}),{name:"GroupProfileHeaderSkeleton"});function k(){let e=y();return v.createElement(o.W2,{maxWidth:"md",disableGutters:!0},v.createElement(x.Z,{variant:"rectangular",sx:{height:320},animation:!1}),v.createElement("div",{className:e.profileUserWrapper},v.createElement("div",{className:e.name},v.createElement(x.Z,{variant:"text",width:400,height:42}),v.createElement(x.Z,{variant:"text",width:120,className:e.type})),v.createElement("div",{className:e.btn},v.createElement(x.Z,{variant:"button",width:140,height:32}))),v.createElement("div",{className:e.menu},v.createElement(x.Z,{variant:"button",width:100,height:20}),v.createElement(x.Z,{variant:"button",width:100,height:20}),v.createElement(x.Z,{variant:"button",width:100,height:20}),v.createElement(x.Z,{variant:"button",width:100,height:20}),v.createElement(x.Z,{variant:"button",width:100,height:20}),v.createElement("div",{className:e.btnGroups},v.createElement(x.Z,{variant:"button",width:32,height:32}),v.createElement(x.Z,{variant:"button",width:32,height:32}))))}var _=a(76482),W=a(50130);let C=(0,p.ZP)(_.Z)(({theme:e})=>({display:"flex",justifyContent:"space-between",background:"light"===e.palette.mode?e.layoutSlot.background.paper:e.palette.background.default,padding:e.spacing(2),color:e.palette.text.secondary,boxShadow:"none"})),z=(0,p.ZP)(u.Z)(({theme:e})=>({})),N=({item:e})=>{let{i18n:t}=(0,n.OgA)();return(null==e?void 0:e.is_muted)?v.createElement(C,null,v.createElement(s.Z,{sx:{display:"flex",alignItems:"center"}},v.createElement(s.Z,null,v.createElement(W.Z,{size:"medium"},v.createElement(o.zb,{icon:"ico-volume-del-o"}))),v.createElement(s.Z,{sx:{paddingLeft:2}},v.createElement(u.Z,{variant:"h5",color:"text.primary",paddingBottom:.5},t.formatMessage({id:"you_have_been_muted_in_this_group"})),v.createElement(z,{variant:"body2"},t.formatMessage({id:"your_can_still_access_its_post_and_chat"}))))):null};var S=(0,Z.Z)(e=>{var t;return(0,w.Z)({profileUserWrapper:{},wrapperMenu:{display:"flex",maxWidth:"100%",flexGrow:1,[e.breakpoints.down("sm")]:{width:"auto",maxWidth:"calc(100% - 60px)",paddingLeft:e.spacing(2),flex:1,minWidth:0}},profileMenu:{flex:1,minWidth:0},profileHeaderContainer:{padding:0},profileHeaderBottom:{backgroundColor:e.mixins.backgroundColor("paper"),borderTop:"solid 1px",borderTopColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",overflow:"hidden",height:e.spacing(9)},actionButtons:{display:"flex",paddingRight:e.spacing(2),"& button":{marginLeft:e.spacing(1),textTransform:"capitalize",fontWeight:"bold",whiteSpace:"nowrap",borderRadius:e.spacing(.5),fontSize:e.mixins.pxToRem(13),padding:e.spacing(.5,1.25),marginBottom:e.spacing(1),minWidth:e.spacing(4),height:e.spacing(4),"& .ico":{fontSize:e.mixins.pxToRem(13)}},[e.breakpoints.down("sm")]:{alignItems:"center",justifyContent:"center",paddingRight:e.spacing(1),"& button":{margin:e.spacing(2,1)}}},userStickyWrapper:{display:"flex",alignItems:"center",height:72},userAvatarSticky:{width:48,height:48},userNameSticky:{fontSize:e.mixins.pxToRem(18),fontWeight:"bold",marginLeft:e.spacing(1.5),WebkitLineClamp:2,display:"-webkit-box",padding:"0",overflow:"hidden",maxWidth:"100%",whiteSpace:"normal",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},buttonJoin:{"&.Mui-disabled":{..."dark"===e.palette.mode&&{color:`${e.palette.text.hint} !important`}}}})},{name:"GroupProfileHeader"});let B=(0,p.ZP)(s.Z)(({theme:e})=>({display:"flex",justifyContent:"end",alignItems:"center",marginLeft:e.spacing(4),"& button":{fontWeight:"bold",boxShadow:"none",width:"max-content",marginLeft:e.spacing(1),"& .ico":{fontSize:e.mixins.pxToRem(15)}},[e.breakpoints.down("sm")]:{justifyContent:"center",flexFlow:"row wrap",minHeight:40,padding:"4px 0",marginLeft:"0","& button":{minWidth:"120px"}}})),L=(0,p.ZP)(u.Z)(({theme:e})=>({fontWeight:"normal",paddingTop:e.spacing(1)})),R=(0,p.ZP)(s.Z)(({theme:e})=>({backgroundColor:e.mixins.backgroundColor("paper"),padding:e.spacing(2,2,2)})),M=(0,p.ZP)(s.Z)(({theme:e})=>({paddingTop:e.spacing(.5),display:"flex",justifyContent:"space-between",alignItems:"flex-start",[e.breakpoints.down("sm")]:{flexFlow:"column",width:"100%",alignItems:"center"}})),I=(0,p.ZP)(s.Z)(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"flex-start",[e.breakpoints.down("sm")]:{flexFlow:"column",width:"100%",alignItems:"flex-start",marginBottom:e.spacing(2)}})),P=(0,p.ZP)(s.Z)(({theme:e})=>({marginTop:e.spacing(2),"> div + div":{marginTop:e.spacing(2)}})),T=(0,p.ZP)(o.zb,{name:"FeaturedIcon"})(({theme:e})=>({color:e.palette.primary.main,marginLeft:e.spacing(2),fontSize:24}));function j({item:e,user:t,identity:a,profileMenu:i,profileActionMenu:p,handleAction:g,actions:h,state:x}){var Z;let{i18n:w,usePageParams:y,ProfileHeaderCover:_,ItemActionMenu:W,dispatch:C,jsxBackend:z,getAcl:j,getSetting:G,assetUrl:H}=(0,n.OgA)(),A=j(),F=G(),{tab:O="home"}=y(),U=S(),{user:$}=(0,n.kPO)(),D=z.get("group.itemView.pendingReviewCard"),Q=z.get("group.itemView.pendingReviewGroupCard");if(!e)return v.createElement(k,null);let{cover_photo_id:V,extra:J,title:X,id:Y,statistic:q,cover_photo_position:K,membership:ee,reg_method:et}=e,ea=(0,c.Q4)(e.cover,"240")||(0,c.Q4)(e.image,"240"),en=(0,c.W$)(i.items,{item:e,acl:A,setting:F}),ei=(0,c.W$)(p.items,{item:{...e,is_admin:(null==t?void 0:t.id)===(null==$?void 0:$.id)},acl:A,setting:F}),er=(null===(Z=b()(ei,0))||void 0===Z?void 0:Z.name)!=="manage"?b()(ei,0):void 0,el=[r.Rk,r.cm,r.mG].includes(ee)?er:void 0,eo=el?ei.slice(1):ei,ec=(0,c.Q4)(e.cover,"1024",H("group.cover_no_image")),em=()=>{C({type:"group/search",payload:{identity:a}})},es=()=>{C({type:"user/showDialogLogin"})},ed=()=>{C({type:"group/inviteFriends",payload:{identity:a}})};return v.createElement(l.gO,null,v.createElement(l.sU,null,v.createElement(s.Z,null,v.createElement(_,{identity:a,image:ec,imageId:V,alt:X,left:0,top:+K||0}),v.createElement(s.Z,null,v.createElement(o.W2,{maxWidth:"md",disableGutters:!0,sx:{padding:0}},v.createElement(R,null,v.createElement(o.k5,{variant:"itemView",value:e.is_sponsor}),v.createElement(M,null,v.createElement(I,null,v.createElement(s.Z,null,v.createElement(u.Z,{variant:"h2"},e.title,e.is_featured?v.createElement(T,{icon:"ico-check-circle"}):null),v.createElement(L,{variant:"subtitle1",color:"text.secondary"},e.reg_name,(null==q?void 0:q.total_member)&&(null==J?void 0:J.can_view_members)?v.createElement(v.Fragment,null," ","\xb7"," ",v.createElement(n.rUS,{to:`/group/${e.id}/member?stab=all_members`},w.formatMessage({id:"total_member"},{value:q.total_member}))):null))),v.createElement(B,null,el&&v.createElement(d.Z,{size:"small",variant:null==el?void 0:el.variant,disabled:null==el?void 0:el.disabled,startIcon:v.createElement(o.zb,{icon:null==el?void 0:el.icon}),color:"primary",onClick:f()($)?es:()=>{return g(null==el?void 0:el.value)},className:U.buttonJoin},null==el?void 0:el.label),et!==r.X7?v.createElement(d.Z,{onClick:ed,size:"small",variant:"outlined",startIcon:v.createElement(o.zb,{sx:{marginLeft:"0 !important"},icon:"ico-envelope"})},v.createElement("span",null,w.formatMessage({id:"invite_friends"}))):v.createElement(W,{menuName:"itemActionInviteMenu",state:x,handleAction:g,control:v.createElement(d.Z,{size:"small",variant:"outlined",startIcon:v.createElement(o.zb,{sx:{marginLeft:"0 !important"},icon:"ico-envelope"})},v.createElement("span",null,w.formatMessage({id:"invite"})))}))),v.createElement(P,null,v.createElement(E.Z,{item:e,actions:h}),v.createElement(D,{item:e,actions:h}),v.createElement(Q,{item:e,actions:h}),v.createElement(N,{item:e})))),v.createElement(o.PH,null,({sticky:t})=>{return v.createElement(o.W2,{maxWidth:"md",disableGutters:!0,className:U.profileHeaderContainer},t?v.createElement("div",{className:U.profileHeaderBottom},v.createElement("div",{className:U.wrapperMenu},v.createElement("div",{className:U.userStickyWrapper},v.createElement(m.Z,{className:U.userAvatarSticky,src:ea}),v.createElement("div",{className:U.userNameSticky},e.title))),v.createElement("div",{className:U.actionButtons},0===e.reg_method||(null==el?void 0:el.name)==="joined"?v.createElement(d.Z,{variant:"outlined",color:"primary",onClick:em,sx:{display:"none"}},v.createElement(o.zb,{icon:"ico-search-o"})):null,v.createElement(W,{id:"actionMenu",label:"ActionMenu",handleAction:g,items:eo,control:v.createElement(d.Z,{variant:"outlined",color:"primary",size:"large"},v.createElement(o.zb,{icon:"ico-dottedmore-o"}))}))):v.createElement("div",{className:U.profileHeaderBottom},v.createElement("div",{className:U.wrapperMenu},v.createElement("div",{className:U.profileMenu},v.createElement(o.DY,{items:en,activeTab:O,prefix:`/group/${Y}`,maxDisplayTab:5}))),v.createElement("div",{className:U.actionButtons},0===e.reg_method||(null==el?void 0:el.name)==="joined"?v.createElement(d.Z,{variant:"outlined",color:"primary",onClick:em},v.createElement(o.zb,{icon:"ico-search-o"})):null,v.createElement(W,{id:"actionMenu",label:"ActionMenu",handleAction:g,items:eo,control:v.createElement(d.Z,{variant:"outlined",color:"primary",size:"large"},v.createElement(o.zb,{icon:"ico-dottedmore-o"}))}))))})))))}j.LoadingSkeleton=k;let G=(0,n.Uh$)((0,n.jEo)(j,i.Z));var H=(0,n.j4Z)({name:"GroupProfileHeaderBlock",extendBlock:G})}}]);