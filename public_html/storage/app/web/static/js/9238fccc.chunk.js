"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-group-blocks-ReviewGroup-Block"],{14527:function(e,t,n){n.d(t,{Z:function(){return Z}});var a=n(52886),i=n(85597),o=n(21241),r=n(76224),l=n(27274),s=n(30120),d=n(81719),p=n(41609),m=n.n(p),c=n(67294),u=n(18974),g=n(74996),f=n(50130);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}let x=(0,d.ZP)(f.Z,{name:"StatusControl",slot:"Control"})(({theme:e})=>({width:32,height:32,fontSize:e.mixins.pxToRem(20),[e.breakpoints.up("sm")]:{width:40,height:40}}));function v({icon:e,...t}){return c.createElement(x,b({color:"primary"},t),c.createElement(r.zb,{icon:e}))}let h="block",E=(0,d.ZP)("div",{name:"AvatarWrapper"})(({theme:e})=>({marginRight:e.spacing(1.5)})),w=(0,d.ZP)("div",{name:"ComposerWrapper"})(({theme:e})=>({display:"flex",width:"100%",[e.breakpoints.down("sm")]:{display:"block",width:"100%"}})),k=(0,d.ZP)("div",{name:"ComposerInput"})(({theme:e})=>({flex:1,backgroundColor:e.palette.action.hover,height:e.spacing(6),borderRadius:24,padding:e.spacing(0,3),cursor:"pointer",color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(15),fontWeight:e.typography.fontWeightRegular,letterSpacing:0,WebkitBoxOrient:"vertical",WebkitLineClamp:"1",display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",lineHeight:e.mixins.pxToRem(48),[e.breakpoints.down("sm")]:{height:e.spacing(4),lineHeight:e.mixins.pxToRem(32),padding:e.spacing(0,2)}})),y=(0,d.ZP)("div",{name:"ComposerToolbar"})(({theme:e})=>({display:"flex",marginTop:e.spacing(1),marginLeft:e.spacing(1.5),[e.breakpoints.down("sm")]:{marginLeft:e.spacing(0)}})),C=(0,d.ZP)("div",{name:"ComposerToolbarExpand"})(({theme:e})=>{var t;return{display:"flex",borderTop:"solid 1px",borderTopColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary,marginTop:e.spacing(2),marginLeft:e.spacing(8),paddingTop:e.spacing(1)}});function Z({item:e,title:t,variant:n,blockProps:d,showWhen:p}){var f,b;let x;let[Z,,_]=(0,g.Z)(),{i18n:P,useSession:T,dispatch:R,jsxBackend:W,usePageParams:S,getAcl:z,getSetting:M,useIsMobile:A}=(0,i.OgA)(),B=z(),I=z("activity.feed.create"),O=M(),{user:j,loggedIn:H}=T(),G=S(),L=P.formatMessage({id:"what_s_your_mind"},{user:null==j?void 0:j.first_name}),D=(0,i.z88)("formValues.dialogStatusComposer")||L,{identity:U,item_type:F}=G,V=U?U.split(".")[3]:"",q="user"===F&&V&&(null==j?void 0:j.id)!==parseInt(V);c.useEffect(()=>{H&&R({type:"setting/sharingItemPrivacy/FETCH",payload:{id:j.id}})},[H]),_.current.requestComposerUpdate=c.useCallback(()=>{setImmediate(()=>{let{attachmentType:e,attachments:t}=_.current.state;R({type:"statusComposer/onPress/status",payload:{data:{attachmentType:e,attachments:{[e]:t[e]}},parentIdentity:U,parentType:F}})})},[_,R,U,F]);let Y=(0,a.q)(U,F);Y&&(null==e?void 0:e.privacy_detail)&&(x={privacy_detail:e.privacy_detail});let $=()=>{R({type:"statusComposer/onPress/status",payload:{parentIdentity:U,parentType:F,data:x}})},N=()=>{_.current.removeAttachments()},J=c.useMemo(()=>({strategy:h,acl:B,setting:O,isUserProfileOther:q,item:e,parentType:F}),[B,O,q,e,F]),K=(0,l.W$)(u.Z.attachers,J),Q=A();if(m()(j)||!I||(null==e?void 0:null===(f=e.profile_settings)||void 0===f?void 0:f.profile_view_profile)===!1||(null==e?void 0:null===(b=e.profile_settings)||void 0===b?void 0:b.feed_share_on_wall)===!1)return null;let X=!!(0,l.W$)([{showWhen:p}],{item:e}).length;return X?"expanded"===n?c.createElement(o.gO,{testid:"blockStatusComposer"},c.createElement(o.ti,{title:t}),c.createElement(o.sU,null,c.createElement(s.Z,{display:"flex",flexDirection:"row"},c.createElement(E,null,c.createElement(r.Yt,{user:j,size:Q?32:48,"data-testid":"userAvatar"})),c.createElement(k,{"data-testid":"whatsHappening",color:"info",onClick:$},D)),c.createElement(C,{onClick:N},K.map(t=>W.render({component:t.as,props:{key:t.as,strategy:h,composerRef:_,composerState:Z,control:v,subject:e}}))))):c.createElement(o.gO,{testid:"blockStatusComposer"},c.createElement(o.ti,{title:t}),c.createElement(o.sU,null,c.createElement(s.Z,{display:"flex",flexDirection:"row"},c.createElement(E,null,c.createElement(r.Yt,{user:j,size:Q?32:48,"data-testid":"userAvatar"})),c.createElement(w,null,c.createElement(k,{"data-testid":"whatsHappening",onClick:$},D),c.createElement(y,{onClick:N},K.map(t=>W.render({component:t.as,props:{key:t.as,strategy:h,composerRef:_,composerState:Z,control:v,subject:e}}))))))):null}},53771:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(85597),i=n(21241),o=n(90717),r=n(76224),l=n(30120),s=n(21822),d=n(81719),p=n(27361),m=n.n(p),c=n(41609),u=n.n(c),g=n(67294),f=n(14527);let b=(0,d.ZP)("div")({display:"block","& .overViewBottom":{marginTop:16,display:"flex"}}),x=(0,d.ZP)(r.W2)({padding:0}),v=(0,d.ZP)("div")(({theme:e})=>({backgroundColor:e.mixins.backgroundColor("paper"),display:"flex",justifyContent:"space-between",alignItems:"flex-start",padding:e.spacing(2,2,3),[e.breakpoints.down("sm")]:{flexFlow:"column",width:"100%",alignItems:"center"}})),h=(0,d.ZP)(l.Z)(({theme:e})=>({[e.breakpoints.down("sm")]:{flexFlow:"column",width:"100%",alignItems:"center",marginBottom:e.spacing(2)}})),E=(0,d.ZP)("h1")(({theme:e})=>({fontWeight:"bold",fontSize:e.mixins.pxToRem(32),color:e.palette.text.primary,margin:0,padding:0,wordWrap:"break-word",wordBreak:"break-word",[e.breakpoints.down("sm")]:{textAlign:"center"}})),w=(0,d.ZP)("div")(({theme:e})=>({color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(18),paddingTop:e.spacing(1),[e.breakpoints.down("sm")]:{textAlign:"center"}})),k=(0,d.ZP)("div")(({theme:e})=>{var t;return{backgroundColor:e.mixins.backgroundColor("paper"),borderTop:"solid 1px",borderTopColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",overflow:"hidden"}}),y=(0,d.ZP)("div")(({theme:e})=>({display:"flex",maxWidth:"55%",flexGrow:1,[e.breakpoints.down("sm")]:{width:"auto",maxWidth:"100%"}})),C=(0,d.ZP)("div")({flex:1,minWidth:0}),Z=(0,d.ZP)("div")(({theme:e})=>({minHeight:40,borderBottom:"2px solid transparent",marginRight:e.spacing(2),padding:e.spacing(1,2),height:"100%",display:"inline-block",alignItems:"center",justifyContent:"center",float:"left",textDecoration:"none",textTransform:"uppercase",fontSize:e.mixins.pxToRem(15),fontWeight:"bold",color:e.palette.text.secondary,"&:hover":{textDecoration:"none"}})),_=(0,d.ZP)("div")(({theme:e})=>({display:"flex",paddingRight:e.spacing(2),"& button":{marginLeft:e.spacing(1),textTransform:"capitalize",fontWeight:"bold",whiteSpace:"nowrap",borderRadius:e.spacing(.5),fontSize:e.mixins.pxToRem(13),padding:e.spacing(.5,1.25),minWidth:e.spacing(4),height:e.spacing(4),"& .ico":{fontSize:e.mixins.pxToRem(13)}}})),P=(0,d.ZP)("div")(({theme:e})=>({flex:2,backgroundColor:e.mixins.backgroundColor("paper"),marginRight:e.spacing(2),padding:e.spacing(2),borderRadius:e.spacing(1),pointerEvents:"none"})),T=(0,d.ZP)("div")(({theme:e})=>({flex:1,alignItems:"start",backgroundColor:e.mixins.backgroundColor("paper"),borderRadius:e.spacing(1),padding:e.spacing(2)})),R=(0,d.ZP)("div")(({theme:e})=>({fontWeight:"bold",fontSize:e.mixins.pxToRem(18),color:e.palette.text.primary,margin:0,padding:0,wordWrap:"break-word",wordBreak:"break-word",[e.breakpoints.down("sm")]:{textAlign:"center"}})),W=(0,d.ZP)("div")(({theme:e})=>({color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(14),paddingTop:e.spacing(1),[e.breakpoints.down("sm")]:{textAlign:"center"}}));var S=(0,a.j4Z)({name:"GroupReviewProfileHeaderBlock",extendBlock:function({blockProps:e}){let{ItemActionMenu:t,i18n:n,assetUrl:d,eventCenter:p,ProfileHeaderCover:c}=(0,a.OgA)(),[S,z]=(0,g.useState)(n.formatMessage({id:"group_privacy"})),[M,A]=(0,g.useState)(n.formatMessage({id:"group_name"}));g.useEffect(()=>{let e=p.on(o.Z7,e=>{var t;let a=m()(e,"values"),i=m()(e,"schema.elements.content.elements.basic.elements.reg_method.options");if(u()(a)||!i)return;let o=null===(t=i[null==a?void 0:a.reg_method])||void 0===t?void 0:t.label,r=a.name;o&&z(o),A(r||n.formatMessage({id:"group_name"}))});return()=>p.off(o.Z7,e)},[]);let B=[{label:n.formatMessage({id:"overview"})},{label:n.formatMessage({id:"about"})},{label:n.formatMessage({id:"member"})},{label:n.formatMessage({id:"event"})}],I=d("group.cover_no_image");return g.createElement(i.gO,null,g.createElement(i.sU,null,g.createElement("div",null,g.createElement(b,null,g.createElement(l.Z,null,g.createElement(c,{image:I,alt:"photo",left:0,top:0,canEdit:!1}),g.createElement("div",null,g.createElement(x,{maxWidth:"md",disableGutters:!0},g.createElement(v,null,g.createElement(h,{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},g.createElement("div",null,g.createElement(E,null,M),g.createElement(w,null,S," \xb7"," ",n.formatMessage({id:"value_member"},{value:1})))))),g.createElement(x,{maxWidth:"md",disableGutters:!0},g.createElement(k,null,g.createElement(y,null,g.createElement(C,null,B.map((e,t)=>g.createElement(Z,{key:t.toString()},e.label)))),g.createElement(_,null,g.createElement(t,{id:"actionMenu",label:"ActionMenu",handleAction:()=>{},items:[],control:g.createElement(s.Z,{variant:"outlined",size:"large"},g.createElement(r.zb,{icon:"ico-dottedmore-o"}))})))),g.createElement(r.W2,{maxWidth:"md",disableGutters:!0,className:"overViewBottom"},g.createElement(P,null,g.createElement(f.Z,null)),g.createElement(T,null,g.createElement(R,null,n.formatMessage({id:"about"})),g.createElement(W,null,S," \xb7"," ",n.formatMessage({id:"value_member"},{value:1}))))))))))}})}}]);