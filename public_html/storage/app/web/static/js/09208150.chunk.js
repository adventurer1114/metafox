(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["formElement","metafox-form-elements-ErrorTooltip"],{96540:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var i=r(n(64938)),a=n(85893),l=(0,i.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=l},60888:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var i=r(n(64938)),a=n(85893),l=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.Z=l},59462:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var i=r(n(64938)),a=n(85893),l=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked");t.Z=l},62177:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var i=r(n(64938)),a=n(85893),l=(0,i.default)((0,a.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");t.Z=l},64938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(81064)},68354:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(63366),i=n(87462),a=n(67294),l=n(86010),o=n(12666),s=n(94780),u=n(81719),d=n(78884),c=n(53204),m=n(53566),p=n(62097),f=n(84771),g=n(1588),v=n(34867);function h(e){return(0,v.Z)("MuiCollapse",e)}(0,g.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var b=n(85893);let E=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],y=e=>{let{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,s.Z)(r,h,n)},x=(0,u.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})(({theme:e,ownerState:t})=>(0,i.Z)({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===t.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===t.state&&(0,i.Z)({height:"auto",overflow:"visible"},"horizontal"===t.orientation&&{width:"auto"}),"exited"===t.state&&!t.in&&"0px"===t.collapsedSize&&{visibility:"hidden"})),Z=(0,u.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>(0,i.Z)({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"})),w=(0,u.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>(0,i.Z)({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"})),C=a.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiCollapse"}),{addEndListener:s,children:u,className:g,collapsedSize:v="0px",component:h,easing:C,in:_,onEnter:S,onEntered:k,onEntering:z,onExit:I,onExited:P,onExiting:A,orientation:R="vertical",style:M,timeout:$=c.x9.standard,TransitionComponent:N=o.ZP}=n,F=(0,r.Z)(n,E),T=(0,i.Z)({},n,{orientation:R,collapsedSize:v}),O=y(T),W=(0,p.Z)(),B=a.useRef(),L=a.useRef(null),j=a.useRef(),q="number"==typeof v?`${v}px`:v,D="horizontal"===R,U=D?"width":"height";a.useEffect(()=>{return()=>{clearTimeout(B.current)}},[]);let V=a.useRef(null),H=(0,f.Z)(t,V),Q=e=>t=>{if(e){let n=V.current;void 0===t?e(n):e(n,t)}},G=()=>L.current?L.current[D?"clientWidth":"clientHeight"]:0,K=Q((e,t)=>{L.current&&D&&(L.current.style.position="absolute"),e.style[U]=q,S&&S(e,t)}),X=Q((e,t)=>{let n=G();L.current&&D&&(L.current.style.position="");let{duration:r,easing:i}=(0,m.C)({style:M,timeout:$,easing:C},{mode:"enter"});if("auto"===$){let a=W.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${a}ms`,j.current=a}else e.style.transitionDuration="string"==typeof r?r:`${r}ms`;e.style[U]=`${n}px`,e.style.transitionTimingFunction=i,z&&z(e,t)}),Y=Q((e,t)=>{e.style[U]="auto",k&&k(e,t)}),J=Q(e=>{e.style[U]=`${G()}px`,I&&I(e)}),ee=Q(P),et=Q(e=>{let t=G(),{duration:n,easing:r}=(0,m.C)({style:M,timeout:$,easing:C},{mode:"exit"});if("auto"===$){let i=W.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${i}ms`,j.current=i}else e.style.transitionDuration="string"==typeof n?n:`${n}ms`;e.style[U]=q,e.style.transitionTimingFunction=r,A&&A(e)}),en=e=>{"auto"===$&&(B.current=setTimeout(e,j.current||0)),s&&s(V.current,e)};return(0,b.jsx)(N,(0,i.Z)({in:_,onEnter:K,onEntered:Y,onEntering:X,onExit:J,onExited:ee,onExiting:et,addEndListener:en,nodeRef:V,timeout:"auto"===$?null:$},F,{children:(e,t)=>(0,b.jsx)(x,(0,i.Z)({as:h,className:(0,l.default)(O.root,g,{entered:O.entered,exited:!_&&"0px"===q&&O.hidden}[e]),style:(0,i.Z)({[D?"minWidth":"minHeight"]:q},M),ownerState:(0,i.Z)({},T,{state:e}),ref:H},t,{children:(0,b.jsx)(Z,{ownerState:(0,i.Z)({},T,{state:e}),className:O.wrapper,ref:L,children:(0,b.jsx)(w,{ownerState:(0,i.Z)({},T,{state:e}),className:O.wrapperInner,children:u})})}))}))});C.muiSupportAuto=!0;var _=C},19316:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r,i=n(63366),a=n(87462),l=n(67294),o=n(86010),s=n(94780),u=n(36622),d=n(91647),c=n(82586),m=n(59711),p=n(81719),f=n(1588),g=n(34867);function v(e){return(0,g.Z)("MuiInputAdornment",e)}let h=(0,f.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var b=n(78884),E=n(85893);let y=["children","className","component","disablePointerEvents","disableTypography","position","variant"],x=(e,t)=>{let{ownerState:n}=e;return[t.root,t[`position${(0,u.Z)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]},Z=e=>{let{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:a,variant:l}=e,o={root:["root",n&&"disablePointerEvents",i&&`position${(0,u.Z)(i)}`,l,r&&"hiddenLabel",a&&`size${(0,u.Z)(a)}`]};return(0,s.Z)(o,v,t)},w=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:x})(({theme:e,ownerState:t})=>(0,a.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${h.positionStart}&:not(.${h.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),C=l.forwardRef(function(e,t){let n=(0,b.Z)({props:e,name:"MuiInputAdornment"}),{children:s,className:u,component:p="div",disablePointerEvents:f=!1,disableTypography:g=!1,position:v,variant:h}=n,x=(0,i.Z)(n,y),C=(0,m.Z)()||{},_=h;h&&C.variant,C&&!_&&(_=C.variant);let S=(0,a.Z)({},n,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:f,position:v,variant:_}),k=Z(S);return(0,E.jsx)(c.Z.Provider,{value:null,children:(0,E.jsx)(w,(0,a.Z)({as:p,ownerState:S,className:(0,o.default)(k.root,u),ref:t},x,{children:"string"!=typeof s||g?(0,E.jsxs)(l.Fragment,{children:["start"===v?r||(r=(0,E.jsx)("span",{className:"notranslate",children:"â€‹"})):null,s]}):(0,E.jsx)(d.Z,{color:"text.secondary",children:s})}))})});var _=C},81064:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return a.Z},createSvgIcon:function(){return l.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return u.Z},ownerDocument:function(){return d.Z},ownerWindow:function(){return c.Z},requirePropFactory:function(){return m},setRef:function(){return p},unstable_ClassNameGenerator:function(){return x},unstable_useEnhancedEffect:function(){return f.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return v},useControlled:function(){return h.Z},useEventCallback:function(){return b.Z},useForkRef:function(){return E.Z},useIsFocusVisible:function(){return y.Z}});var r=n(37078),i=n(36622),a=n(46207),l=n(54235),o=n(75400),s=n(67421).Z,u=n(70061),d=n(47505),c=n(57577),m=n(18986).Z,p=n(7960).Z,f=n(63289),g=n(49669),v=n(40444).Z,h=n(42293),b=n(26432),E=n(84771),y=n(40011);let x={configure:e=>{console.warn("MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.\n\nYou should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead\n\nThe detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401\n\nThe updated documentation: https://mui.com/guides/classname-generator/"),r.Z.configure(e)}}},35161:function(e,t,n){var r=n(29932),i=n(67206),a=n(69199),l=n(1469);e.exports=function(e,t){return(l(e)?r:a)(e,i(t,3))}},94885:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},14176:function(e,t,n){var r=n(67206),i=n(94885),a=n(35937);e.exports=function(e,t){return a(e,i(r(t)))}},35937:function(e,t,n){var r=n(29932),i=n(67206),a=n(63012),l=n(46904);e.exports=function(e,t){if(null==e)return{};var n=r(l(e),function(e){return[e]});return t=i(t),a(e,n,function(e,n){return t(e,n[0])})}},82454:function(e,t,n){"use strict";n.r(t);var r=n(17888),i=n(22949),a=n(30120),l=n(35705),o=n(50130),s=n(62097),u=n(81719),d=n(18948),c=n(68929),m=n.n(c),p=n(41609),f=n.n(p),g=n(67294),v=n(90798),h=n(85597),b=n(76224);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let y=(0,u.ZP)(a.Z,{name:"CaptchaContent"})(({theme:e})=>({"& img":{maxWidth:"100%"}})),x=({config:e,disabled:t,required:n,name:u,formik:c})=>{let{margin:p,fullWidth:x,disabled:Z,img:w,key:C,required:_=!0,label:S,placeholder:k,actionName:z,autoFocus:I}=e,[P,A]=(0,d.U$)(null!=u?u:"image_captcha"),{apiClient:R,compactData:M}=(0,h.OgA)(),[$,N]=g.useState(!1),[F,T]=g.useState(w),O=g.useRef(!1),W=(0,s.Z)(),[B,L]=g.useState(C),j=(0,h.oHF)("captcha","image_captcha","refreshCaptcha"),q=()=>{!$&&j&&(N(!0),R.request({method:j.apiMethod||"POST",url:j.apiUrl,data:M(j.apiParams,{action_name:z})}).then(e=>e.data.data).then(e=>{e&&(L(null==e?void 0:e.key),T(null==e?void 0:e.img))}).finally(()=>{N(!1)}))},D=Boolean(A.error&&(A.touched||c.submitCount));return(g.useEffect(()=>{(null==c?void 0:c.isSubmitting)&&(null==c?void 0:c.isValid)&&(O.current=!0)},[null==c?void 0:c.isSubmitting,null==c?void 0:c.isValid]),g.useEffect(()=>{(null==c?void 0:c.isSubmitting)||!O.current||f()(null==c?void 0:c.errors)||(O.current=!1,q())},[O.current,null==c?void 0:c.isSubmitting,null==c?void 0:c.errors]),g.useEffect(()=>{((null==A?void 0:A.touched)||I)&&B&&c.setFieldValue("image_captcha_key",B,!1)},[null==A?void 0:A.touched,B,I]),g.useEffect(()=>{B||q()},[]),Z||t)?null:g.createElement(r.Z,{margin:p,fullWidth:x,"data-testid":m()(`field ${u}`)},g.createElement(a.Z,{sx:{display:"flex"}},g.createElement(a.Z,{sx:{display:"flex",alignItems:"center"}},g.createElement(i.Z,E({},P,{error:D,required:_||n,inputProps:{"data-testid":m()(`input ${u}`)},label:S,placeholder:k,autoFocus:I})),g.createElement(y,{ml:1,sx:{flex:1,minWidth:0,position:"relative",display:"flex"}},$?g.createElement(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,right:0,bottom:0,background:"dark"===W.palette.mode?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.5)"}},g.createElement(l.Z,{size:16})):null,g.createElement("img",{src:F,alt:""})),g.createElement(a.Z,{sx:{minWidth:"40px"}},g.createElement(o.Z,{size:"medium",color:"primary",onClick:q},g.createElement(b.zb,{icon:"ico-rotate-right"}))))),D?g.createElement(v.Z,{error:A.error}):null)};t.default=x},90798:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67294),i=n(13218),a=n.n(i);let l=e=>{return e?a()(e)?l(Object.values(e)[0]):e.toString():null};function o({error:e,className:t="invalid-feedback order-last"}){return e?r.createElement("div",{"data-testid":"error",className:t},l(e)):null}},87519:function(e,t,n){"use strict";n.r(t);var r=n(62177),i=n(81719),a=n(38790),l=n(18948),o=n(67294);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let u=({className:e,children:t,...n})=>o.createElement(a.Z,s({},n,{title:n.title,className:e,disableHoverListener:!0,classes:{tooltip:e}}),t),d=(0,i.ZP)(u)(({theme:e})=>({backgroundColor:e.palette.background.paper,borderColor:"border.secondary",borderStyle:"solid",color:"red","& .MuiTooltip-arrow":{color:"red"}})),c=(0,i.ZP)("div")(({theme:e})=>({display:"flex",alignItems:"center"})),m=({children:e,name:t,showErrorTooltip:n})=>{let[i,a]=(0,o.useState)(!1),[,s]=(0,l.U$)(t);return n?o.createElement(d,{className:{},open:i&&!!(null==s?void 0:s.error),onClose:()=>a(!1),onOpen:()=>a(!0),title:o.createElement(c,null,o.createElement(r.Z,{sx:{marginRight:.5},fontSize:"inherit"})," ",null==s?void 0:s.error)},e):e};t.default=m},66766:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(85597),i=n(30120),a=n(44373),l=n(91647),o=n(18948),s=n(68929),u=n.n(s),d=n(27361),c=n.n(d),m=n(67294),p=n(76224),f=n(50130),g=n(86010),v=n(41609),h=n.n(v);let b=(e,t)=>{var n;return!!((null==e?void 0:null===(n=e.subs)||void 0===n?void 0:n.length)>0&&e.subs.some(e=>e.id.toString()===t||b(e,t)))};function E({item:e,handleSelect:t,active:n,classes:r,category_id:i}){var a;let[l,o]=m.useState(!1);m.useEffect(()=>{if(b(e,i)){o(!0);return}},[i]);let s=m.useCallback(()=>{o(e=>!e)},[]),u=(e,n)=>{t(e,n)};return m.createElement("div",{className:r.item},m.createElement("div",{className:(0,g.default)(!h()(e.subs)&&r.hasSubs,n&&r.itemActive)},m.createElement("div",{onClick:()=>u(e.id,e.resource_name),"data-testid":"itemCategory",className:r.link,color:"inherit","aria-selected":n,"aria-label":e.name},m.createElement("span",{className:r.span},e.name)),h()(e.subs)?null:m.createElement(f.Z,{size:"small",className:r.icon,onClick:s},m.createElement(p.zb,{icon:l?"ico-angle-up":"ico-angle-down"}))),l&&(null==e?void 0:null===(a=e.subs)||void 0===a?void 0:a.length)>0?m.createElement("ul",{className:r.subCategory},null==e?void 0:e.subs.map((e,t)=>{return m.createElement("div",{key:e.id},m.createElement(E,{item:e,classes:r,handleSelect:u,active:e.id.toString()===i,category_id:i}))})):null)}var y=n(22410),x=n(73327),Z=(0,y.Z)(e=>(0,x.Z)({item:{"& $link":{height:e.spacing(7),padding:e.spacing(0,2,0,2),flex:1,minWidth:0,"&:hover":{backgroundColor:e.palette.action.selected,borderRadius:e.shape.borderRadius}}},hasSubs:{display:"flex",alignItems:"center","& button":{position:"absolute"},"& .ico":{paddingLeft:0}},link:{cursor:"pointer",fontSize:e.mixins.pxToRem(15),display:"flex",flexDirection:"row",alignItems:"center",color:"light"===e.palette.mode?e.palette.text.primary:e.palette.text.secondary,textDecoration:"none",position:"relative"},itemActive:{"& $link":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightBold}},span:{},subCategory:{borderLeft:`1px solid ${e.palette.border.secondary}`,listStyle:"none",margin:e.spacing(0,0,0,2),padding:0},icon:{position:"absolute",width:32,height:32,right:e.spacing(1),"& .ico":{fontSize:e.mixins.pxToRem(15)}}}));function w({config:{label:e,apiUrl:t,dataSource:n=[],defaultValue:s},name:d}){let p=Z(),[,,{setValue:f}]=(0,o.U$)(d),{useFetchItems:g,usePageParams:v,i18n:h}=(0,r.OgA)(),b=v(),y=c()(b,d),[x]=g({dataSource:{apiUrl:t},data:[],cache:!0}),w=x.length>0?x:n,C=m.useCallback(e=>{f(e)},[]),_=m.useCallback(()=>{f(void 0)},[]);return m.createElement("div",{"data-testid":u()(`field ${d}`)},m.createElement(i.Z,{sx:{pt:2,pb:2}},m.createElement(a.Z,null)),m.createElement(l.Z,{component:"h4",variant:"h4",color:"textPrimary",sx:{pb:1}},e),m.createElement(i.Z,{sx:{pb:3}},w&&w.length?m.createElement(E,{classes:p,item:{name:h.formatMessage({id:"all"})},handleSelect:_,key:"all",active:!y,category_id:y}):null,w.map(e=>m.createElement(E,{classes:p,item:e,handleSelect:C,key:e.id,active:y===String(e.id),category_id:y}))))}},65939:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(84635),i=n(85597),a=n(30120),l=n(21822),o=n(81719),s=n(41609),u=n.n(s),d=n(35161),c=n.n(d),m=n(67294);let p=(0,o.ZP)("div",{name:"StyledItemView"})(({theme:e})=>{var t;return{display:"flex",alignItems:"baseline",width:"100%",justifyContent:"flex-start",padding:e.spacing(2.75,0),[e.breakpoints.down("sm")]:{display:"block"},"&+div":{borderTop:"solid 1px",borderTopColor:null===(t=e.palette.border)||void 0===t?void 0:t.secondary}}}),f=(0,o.ZP)("div",{name:"StyledItemView",slot:"StyledTitle"})(({theme:e})=>({width:300,fontSize:e.typography.body1.fontSize,lineHeight:1.6,fontWeight:e.typography.fontWeightBold,color:e.palette.text.primary})),g=(0,o.ZP)("div",{name:"StyledItemView",slot:"StyledContent"})(({theme:e})=>({padding:e.spacing(0,2),width:"100%",fontSize:e.typography.body1.fontSize,lineHeight:1.6,color:e.palette.text.primary})),v=(0,o.ZP)("div",{name:"StyledItemView",slot:"StyledContentInner"})(({theme:e})=>({display:"flex",flexDirection:"column","& button":{marginRight:e.spacing(1)},"& div:first-of-type":{marginTop:0,marginBottom:0}}));function h({onReset:e,config:t,formik:n,name:o}){let{i18n:s}=(0,i.OgA)(),[d,h]=(0,m.useState)(!1),b=()=>h(!0),E=()=>{n.submitForm().then(e=>{u()(n.errors)&&h(!1)})},y=()=>h(!1),{label:x,value:Z,elements:w}=t;return m.createElement(p,null,m.createElement(f,null,x),m.createElement(g,null,d?m.createElement(v,null,c()(w,(e,t)=>m.createElement(r.W_,{formik:n,key:t.toString(),config:e})),m.createElement(a.Z,{sx:{my:1}},m.createElement(l.Z,{variant:"contained",onClick:E},s.formatMessage({id:"save"})),m.createElement(l.Z,{variant:"outlined",onClick:y},s.formatMessage({id:"cancel"})))):m.createElement("p",null,Z)),!d&&m.createElement(l.Z,{variant:"text",onClick:b},s.formatMessage({id:"edit"})))}},45496:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(85597),i=n(76224),a=n(27274),l=n(21822),o=n(17888),s=n(84917),u=n(81719),d=n(18948),c=n(68929),m=n.n(c),p=n(73955),f=n.n(p),g=n(67294),v=n(90798),h=n(22410),b=n(73327),E=(0,h.Z)(e=>(0,b.Z)({root:{margin:e.spacing(2,0,1)},formLabel:{fontSize:e.mixins.pxToRem(13)},preview:{marginTop:-5,height:120,borderRadius:4,overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",position:"relative","& button":{"& + button":{marginLeft:e.spacing(1)}}},previewImage:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},controls:{height:120,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"},actions:{}}),{name:"ItemPhotoField"});let y={width:2,right:0,position:"absolute",opacity:0},x=(0,u.ZP)(l.Z,{name:"AddPhotoButton"})(({theme:e})=>({fontWeight:"bold"})),Z=e=>{return new Promise(t=>{let n=new FileReader;n.addEventListener("load",()=>t(n.result),!1),n.readAsDataURL(e)})};function w({name:e,config:t,disabled:n,formik:u}){let{required:c,variant:p="outlined",item_type:h,max_upload_filesize:b,upload_url:w,preview_url:C,disabled:_,returnBase64:S=!1,thumbnail_sizes:k}=t,z=E(),{dialogBackend:I,i18n:P}=(0,r.OgA)(),[,A,{setValue:R}]=(0,d.U$)(null!=e?e:"ItemPhotoField"),M=t.placeholder||"add_photo",[$,N]=(0,g.useState)(C),[F,T]=(0,g.useState)(Boolean($)),O=(0,g.useRef)(),[W,B]=(0,g.useState)(!1),L=async(e,t)=>{if(e){let n=await Z(e);t(n)}},j=()=>{O.current.click()},q=()=>{let e=O.current.files;if(!e)return;let t=(0,a.yh)(e.item(0).type)?"video":"photo",n={id:0,uid:f()("file"),source:URL.createObjectURL(e.item(0)),file:e.item(0),file_name:e.item(0).name,file_size:e.item(0).size,file_type:t,fileItemType:h,status:"update",upload_url:w,extension:(0,a.mD)(e.item(0).name),thumbnail_sizes:k},r=n.file.size;if(r>b&&0!==b){I.alert({message:P.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,a.TX)(n.file_name,30),fileSize:(0,a.jA)(n.file.size),maxSize:(0,a.jA)(b)})});return}n&&(N(n.source),T(!0),S?L(null==n?void 0:n.file,e=>{R({base64:e})}):R(n))},D=()=>{N(null),T(!1),R(C?{status:"remove",temp_file:0}:void 0)},U=e=>{e.currentTarget.value=null},V=Boolean(A.error&&(A.touched||u.submitCount));return F?g.createElement(g.Fragment,null,g.createElement(o.Z,{className:z.root,fullWidth:!0,variant:p,margin:"normal","data-testid":m()(`field ${e}`)},g.createElement("div",{className:z.preview},g.createElement("div",{className:z.previewImage,style:{backgroundImage:`url(${$})`},onMouseOver:()=>B(!0),onMouseLeave:()=>B(!1)}),g.createElement("div",{className:z.actions},g.createElement(l.Z,{size:"smaller",color:"primary",variant:"contained",disabled:_||n||u.isSubmitting,"data-testid":m()(`button add ${e}`),startIcon:g.createElement(i.zb,{icon:"ico-photo-o"}),onClick:j},P.formatMessage({id:"change"})),g.createElement(l.Z,{size:"smaller",color:"error","data-testid":m()(`button remove ${e}`),variant:"contained",disabled:_||n||u.isSubmitting,startIcon:g.createElement(i.zb,{icon:"ico-trash-o"}),onClick:D},P.formatMessage({id:"remove"})))),g.createElement(i.yC,{haveError:V,variant:p,children:null,hoverState:W})),V?g.createElement(v.Z,{error:A.error}):null,g.createElement("input",{onClick:U,ref:O,type:"file","aria-hidden":!0,accept:"image/*",style:y,"data-testid":m()(`input ${e}`),onChange:q})):g.createElement(g.Fragment,null,g.createElement(o.Z,{className:z.root,fullWidth:!0,variant:p,margin:"normal","data-testid":m()(`field ${e}`)},g.createElement(s.Z,{required:c,className:z.formLabel,variant:p,shrink:"outlined"===p},t.label),g.createElement("div",{className:z.controls,role:"button",onClick:j,onMouseOver:()=>B(!0),onMouseLeave:()=>B(!1)},g.createElement(x,{size:"small",color:"primary",variant:"outlined","data-testid":m()(`button add ${e}`),disabled:_||n||u.isSubmitting,startIcon:g.createElement(i.zb,{icon:"ico-photo-plus-o"})},P.formatMessage({id:M}))),g.createElement(i.yC,{haveError:V,children:t.label,variant:p,hoverState:W})),V?g.createElement(v.Z,{error:A.error}):null,g.createElement("input",{onClick:U,ref:O,type:"file","aria-hidden":!0,accept:"image/*","data-testid":m()(`input ${e}`),onChange:q,style:y}))}},70563:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(85597),i=n(76224),a=n(21822),l=n(38790),o=n(18948),s=n(73955),u=n.n(s),d=n(67294),c=n(5685),m=n(22410),p=n(73327),f=(0,m.Z)(e=>(0,p.Z)({root:{margin:e.spacing(2,0,1),"& button":{fontSize:e.mixins.pxToRem(13),border:e.mixins.border("primary"),borderRadius:4,padding:e.spacing(.5,2)},"& .ico":{fontSize:e.mixins.pxToRem(15)}},addPhotoWrapper:{},previewList:{display:"flex",margin:e.spacing(1,-.5,0)},previewItem:{margin:e.spacing(0,.5),position:"relative","& img":{width:48,height:48,minWidth:48,minHeight:48,objectFit:"cover",borderRadius:4}},deletePhoto:{position:"absolute",top:4,right:4,borderRadius:"50%",width:16,height:16,opacity:.7,backgroundColor:e.mixins.backgroundColor("paper"),display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px !important",cursor:"pointer","&:hover":{opacity:1}},totalPhoto:{marginTop:e.spacing(.5)},controls:{height:120,border:"solid 1px rgba(0, 0, 0, 0.23)",borderRadius:4,padding:e.spacing(.5,2),marginTop:e.spacing(1),display:"flex",alignItems:"center",justifyContent:"center","&:hover":{border:"1px solid",borderColor:e.palette.border.primary}}}),{name:"ItemPhotoGalleryField"});function g({name:e,config:t}){let n=f(),[,,{setValue:s}]=(0,o.U$)(null!=e?e:"ItemPhotoGalleryField"),{i18n:m}=(0,r.OgA)(),p=t.placeholder||"Add Photos",[g,v]=(0,d.useState)([]),[h,b]=(0,d.useState)(Boolean(g.length-1>0)),E=(0,d.useRef)(),y=(0,d.useCallback)(()=>{E.current.click()},[]),x=(0,d.useCallback)(()=>{let e=E.current.files;if(!e)return;let t=[];for(let n=0;n<e.length;++n)t.push({uid:u()("file"),source:URL.createObjectURL(e.item(n)),file:e.item(n)});t&&(v(t),s(g),b(!0))},[g,s]),Z=(0,d.useCallback)(e=>{v(t=>{return t.filter(t=>t.uid!==e.uid)}),s(g),b(Boolean(g.length-1>0))},[g,s]);return d.createElement("div",{className:n.root},d.createElement("div",{className:n.addPhotoWrapper},d.createElement(c.Z,null,t.label),d.createElement("div",{className:n.controls,role:"button",onClick:y},d.createElement(a.Z,{size:"small",color:"primary",variant:"outlined",startIcon:d.createElement(i.zb,{icon:"ico-photos-plus-o"})},p)),d.createElement("input",{ref:E,type:"file",multiple:!0,"aria-hidden":!0,className:"srOnly",accept:"image/*",onChange:x})),h&&d.createElement(d.Fragment,null,d.createElement("div",{className:n.previewList},g.map((e,t)=>d.createElement("div",{className:n.previewItem,key:t.toString()},d.createElement("img",{src:e.source,alt:""}),d.createElement(l.Z,{title:m.formatMessage({id:"remove"})},d.createElement(i.zb,{icon:"ico-close",onClick:()=>Z(e),className:n.deletePhoto}))))),d.createElement("div",{className:n.totalPhoto},g.length,"/10"," ",m.formatMessage({id:"photos_uploaded"}))))}},5685:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(85597),i=n(67294);function a({text:e}){let{i18n:t}=(0,r.OgA)();return e?e.startsWith("<html>")?i.createElement(i.Fragment,null,t.formatMessage({id:"[placeholder]",defaultMessage:e})):i.createElement(i.Fragment,null,e):null}},19379:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(85597),i=n(76224),a=n(30120),l=n(68354),o=n(25722),s=n(62937),u=n(71682),d=n(22949),c=n(18948),m=n(68929),p=n.n(m),f=n(47037),g=n.n(f),v=n(67294),h=n(22410),b=n(73327),E=(0,h.Z)(e=>(0,b.Z)({root:{display:"block",position:"relative"},map:{display:"block",height:300,backgroundColor:e.palette.action.focus},popper:{zIndex:1300,width:"100%"},paper:{padding:e.spacing(1,1)},suggestItem:{display:"flex",flexDirection:"row",alignItems:"center",padding:e.spacing(1,1),fontSize:e.mixins.pxToRem(15),cursor:"pointer","&:hover":{backgroundColor:e.palette.action.focus}},suggestIcon:{color:e.palette.text.secondary,fontSize:e.mixins.pxToRem(13),paddingRight:e.spacing(1)},suggestName:{color:e.palette.text.primary},suggestAddress:{paddingLeft:e.spacing(1),color:e.palette.text.secondary}}),{name:"formFooter"}),y=function({config:e,disabled:t,required:n,name:m,formik:f}){var h,b,y;let[x,Z,{setValue:w,setTouched:C}]=(0,c.U$)(null!=m?m:"location"),{label:_,labelProps:S,placeholder:k,variant:z,disabled:I,margin:P="normal",fullWidth:A,required:R,description:M,autoFocus:$}=e,N=v.useRef(),F=v.useRef(),T=E(),O=v.useRef(),[W,B="",L,,j,q,{loading:D,error:U}]=(0,r.$Cd)(O,{lat:null===(h=x.value)||void 0===h?void 0:h.lat,lng:null===(b=x.value)||void 0===b?void 0:b.lng,address:null===(y=x.value)||void 0===y?void 0:y.address}),V=v.useCallback(e=>{L(e),""===e&&w(null)},[]),[H,Q]=v.useState(!1),G=(e,t)=>{let{address_components:n}=t,r=n[0];w({...e,short_name:r.short_name})},K=e=>{let t=e.address.search(","),n={address:e.address.slice(0,t)===e.name?`${e.address}`:`${e.name}, ${e.address}`,lat:e.lat,lng:e.lng};w(n),j(e),L(n.address),q(e,e=>G(n,e))},X=e=>{Q(!0)},Y=e=>{(null==Z?void 0:Z.touched)||C(!0),setTimeout(()=>{Q(!1),x.onBlur(e)},200)},J=v.useCallback(()=>{setTimeout(()=>{Q(!1)},200)},[]),ee=Boolean(Z.error&&(Z.touched||f.submitCount));return v.createElement("div",{className:T.root},v.createElement(i.Qn,{excludeRef:N,onClickAway:J},v.createElement(a.Z,null,v.createElement(d.Z,{label:_,autoComplete:"off",required:n||R,inputRef:F,onFocus:X,onBlur:Y,onChange:e=>V(e.target.value),value:B,disabled:e.disabled||I,autoFocus:$,variant:z,error:ee,inputProps:{"data-testid":p()(`field ${m}`)},InputLabelProps:S,placeholder:k,margin:P,fullWidth:A,helperText:ee&&g()(Z.error)?Z.error:M}),v.createElement("div",{className:T.map,ref:O}))),v.createElement(s.Z,{open:H,anchorEl:F.current,disablePortal:!0,placement:"bottom-start",className:T.popper},v.createElement(o.Z,{className:T.paper},v.createElement(l.Z,{in:H},D?v.createElement(a.Z,null,v.createElement(u.Z,{animation:"wave",height:30,width:"50%"}),v.createElement(u.Z,{animation:"wave",height:30,width:"30%"}),v.createElement(u.Z,{animation:"wave",height:30,width:"40%"})):W.map(e=>{return v.createElement("div",{key:e.lat,className:T.suggestItem,onClick:()=>K(e)},v.createElement(i.zb,{icon:"ico-checkin",className:T.suggestIcon}),v.createElement("span",{className:T.suggestName},e.name),v.createElement("span",{className:T.suggestAddress},e.address))}),U&&v.createElement("div",null,U)))))}},13995:function(e,t,n){"use strict";n.r(t);var r,i,a=n(76224),l=n(21822),o=n(49960),s=n(20399),u=n(81719),d=n(22949),c=n(91647),m=n(67294);let p=(0,u.ZP)("div",{name:"StyledAnswer"})(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(1,0),borderBottom:"1px solid",borderBottomColor:e.palette.divider})),f=(0,u.ZP)("div",{name:"StyledAnswer",slot:"ContentButton"})(()=>({width:"100%",cursor:"pointer"}));(r=i||(i={}))[r.FreeAnswer=0]="FreeAnswer",r[r.Select=1]="Select",r[r.CheckBox=2]="CheckBox";let g=({type:e,value:t,onRemove:n,onChange:r,onBlur:u})=>{let[g,v]=(0,m.useState)(!t),[h,b]=(0,m.useState)(""),[E,y]=(0,m.useState)(e===i.FreeAnswer);(0,m.useEffect)(()=>{b(t)},[t]);let x=e=>{v(!1),u(e)},Z=e=>{let{value:t}=e.target;b(t),r&&r(e)},w=()=>{y(!0),n&&n()},C=m.createElement(d.Z,{size:"small",fullWidth:!0,autoFocus:!0,id:"outlined-basic",value:h,variant:"outlined",onChange:Z,onBlur:x,inputProps:{maxLength:255}}),_=m.createElement(f,{onClick:()=>v(!0)},m.createElement(c.Z,{variant:"h6"},h)),S=(0,m.useMemo)(()=>{return e===i.CheckBox?m.createElement(o.Z,{disabled:!0,checked:!0}):e===i.Select?m.createElement(s.Z,{disabled:!0}):void 0},[e]);return E?null:m.createElement(p,null,S,g?C:_,m.createElement(l.Z,{onClick:w},m.createElement(a.zb,{icon:" ico-close"})))};t.default=g},8238:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r,i,a=n(85597),l=n(96540),o=n(30120),s=n(21822),u=n(17888),d=n(74825),c=n(16681),m=n(22949),p=n(68929),f=n.n(p),g=n(67294),v=n(90798),h=n(87519),b=n(13995);(r=i||(i={}))[r.FreeAnswer=0]="FreeAnswer",r[r.Select=1]="Select",r[r.CheckBox=2]="CheckBox";let E=[{value:i.CheckBox,label:"checkbox"},{value:i.Select,label:"multiple_choice"},{value:i.FreeAnswer,label:"written_answer"}],y=({name:e,formik:t,disabled:n})=>{var r,p,y,x,Z;let{i18n:w}=(0,a.OgA)();g.useEffect(()=>{var e,n,r,i,a,l;t.setFieldValue("question",(null===(e=t.values)||void 0===e?void 0:e.question)||(null===(n=t.initialValues)||void 0===n?void 0:n.question)),t.setFieldValue("type_id",(null===(r=t.values)||void 0===r?void 0:r.type_id)||(null===(i=t.initialValues)||void 0===i?void 0:i.type_id)),t.setFieldValue("options",(null===(a=t.values)||void 0===a?void 0:a.options)||(null===(l=t.initialValues)||void 0===l?void 0:l.options)||[])},[]);let C=()=>{var e;let n=[...null===(e=t.values)||void 0===e?void 0:e.options,{title:"",id:new Date().getMilliseconds(),type:1}];t.setFieldValue("options",n)},_=(e,n)=>{let{value:r}=e.target,i=t.values.options.map(e=>{var i;return e.id===n.id?{...e,title:r,type:(null===(i=t.initialValues)||void 0===i?void 0:i.options)&&1!==n.type?2:1}:e});t.setFieldValue("options",i)},S=e=>{e.title.trim()||z(e.id)},k=e=>{var n,r;(null===(n=t.values)||void 0===n?void 0:null===(r=n.question)||void 0===r?void 0:r.trim())||t.setFieldValue("question",""),t.handleBlur(e)},z=e=>{var n;let r=null===(n=t.values.options)||void 0===n?void 0:n.filter(t=>t.id!==e);t.setFieldValue("options",r)};return g.createElement(u.Z,{fullWidth:!0,margin:"normal","data-testid":f()(`field ${e}`)},g.createElement(o.Z,{sx:{height:"40px",display:"flex"}},g.createElement(h.default,{name:"question",showErrorTooltip:!0},g.createElement(m.Z,{id:"question",name:"question",sx:{flex:1,minWidth:0,marginRight:2},size:"small",label:w.formatMessage({id:"add_a_question"}),variant:"outlined",inputProps:{maxLength:255},error:!!(t.submitCount&&t.errors.question),value:null===(r=t.values)||void 0===r?void 0:r.question,onChange:t.handleChange,onBlur:k})),g.createElement(c.Z,{id:"type_id",name:"type_id",sx:{height:"100%"},size:"small",value:null===(p=t.values)||void 0===p?void 0:p.type_id,onChange:t.handleChange},E.map(({value:e,label:t},n)=>g.createElement(d.Z,{key:n.toString(),value:e},w.formatMessage({id:t}))))),t.values.type_id!==i.FreeAnswer?g.createElement(g.Fragment,null,null===(y=t.values)||void 0===y?void 0:null===(x=y.options)||void 0===x?void 0:x.map(e=>{return g.createElement(b.default,{key:e.id.toString(),value:e.title,type:t.values.type_id,onBlur:()=>S(e),onRemove:()=>z(e.id),onChange:t=>_(t,e)})}),g.createElement(s.Z,{sx:{marginTop:2,width:"130px"},startIcon:g.createElement(l.Z,null),size:"small",disabled:n,onClick:C,variant:"contained"},w.formatMessage({id:"more_options"})),g.createElement(v.Z,{error:null===(Z=t.errors)||void 0===Z?void 0:Z.options})):null)};var x=y},30021:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(85597),i=n(18948),a=n(12902),l=n(27361),o=n.n(l),s=n(1469),u=n.n(s),d=n(67294),c=n(90798),m=n(30120),p=n(21822),f=n(22949),g=n(22410),v=n(73327),h=(0,g.Z)(e=>(0,v.Z)({answerInput:{width:"calc(100% - 130px)"},answerItem:{display:"flex"},input:{"&::placeholder":{color:e.palette.text.secondary,opacity:1}},endAdornment:{cursor:"pointer"},endAdornmentButton:{display:"flex",alignItems:"center",paddingLeft:e.spacing(2)},buttonWrapper:{display:"flex",width:"100%",justifyContent:"space-between",marginRight:e.spacing(1),marginTop:e.spacing(1),"& button":{minWidth:e.spacing(5)}},button:{"& + button":{marginLeft:e.spacing(1)},fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,cursor:"pointer",display:"flex",alignItems:"center","&:hover":{textDecoration:"underline"}},visible:{visibility:"hidden"}}),{name:"AnswerPollItem"}),b=n(76224);let E=({lastElement:e,index:t,item:n,handleDelete:i,handleAdd:a,handleChange:l,disabled:o,submitCount:s,error:u,maxLength:g,disabledAddMore:v,disableRemove:E,meta:y,setTouched:x})=>{let Z=h(),{i18n:w}=(0,r.OgA)(),C=Boolean(u&&(y.touched||s));return d.createElement(d.Fragment,null,d.createElement("div",{className:Z.answerItem},d.createElement(f.Z,{className:Z.answerInput,required:!0,variant:"outlined",onBlur:()=>x(!0),fullWidth:!0,margin:"normal",disabled:o,inputProps:{maxLength:g},label:w.formatMessage({id:"option_answer"},{value:t+1}),defaultValue:n.answer,onChange:e=>l(e,n.id),error:C}),d.createElement("div",{className:Z.endAdornmentButton},d.createElement("div",{className:Z.buttonWrapper},d.createElement(p.Z,{className:Z.button,onClick:()=>i(n.order),disabled:E||o,variant:"outlined",color:"primary",sx:{fontWeight:"bold"}},d.createElement(m.Z,{sx:{display:{sm:"block",xs:"none"}}},w.formatMessage({id:"remove"})),d.createElement(m.Z,{sx:{display:{sm:"none"}}},d.createElement(b.zb,{icon:"ico-trash-alt"}))),d.createElement(p.Z,{className:e?Z.button:Z.visible,onClick:()=>a(),variant:"outlined",color:"primary",disabled:v||o,sx:{fontWeight:"bold"}},d.createElement(m.Z,{sx:{display:{sm:"block",xs:"none"}}},w.formatMessage({id:"add"})),d.createElement(m.Z,{sx:{display:{sm:"none"}}},d.createElement(b.zb,{icon:"ico-plus"})))))),C?d.createElement(c.Z,{error:u}):null)},y=({config:e,name:t,disabled:n,formik:l})=>{var s,m;let{i18n:p,dialogBackend:f}=(0,r.OgA)(),{minAnswers:g,maxAnswers:v,disabled:h,maxLength:b}=e,[y,x,{setValue:Z,setTouched:w}]=(0,i.U$)(null!=t?t:"PollAnswer"),[C,_]=d.useState(null==y?void 0:y.value),S=d.useRef((null==y?void 0:null===(s=y.value)||void 0===s?void 0:s.length)||0),k=d.useCallback(e=>{_(t=>(0,a.ZP)(t,t=>{if(t.length===g)f.alert({message:p.formatMessage({id:"you_must_have_min_answer"},{value:g})});else if(e){let n=t.findIndex(t=>t.order===e);t.splice(n,1)}else t.pop()}))},[]),z=d.useCallback((e,t)=>{let n=e.target.value;_(e=>(0,a.ZP)(e,e=>{e[t]={...e[t],answer:n}}))},[]),I=d.useCallback(()=>{_(e=>(0,a.ZP)(e,e=>{if(e.length===v)f.alert({message:p.formatMessage({id:"you_must_have_max_answer"},{value:v})});else{let t={item:{answer:"",order:++S.current}};e.push(t.item)}}))},[]);d.useEffect(()=>{if(C.length<g)I();else{let e=C.map(e=>{return{...e,answer:e.answer.trim()}});Z(e)}},[C]);let P=u()(x.error);return d.createElement("div",null,null==C?void 0:C.map((e,t)=>d.createElement(E,{lastElement:t===C.length-1,index:t,key:e.order.toString(),item:e,maxLength:b,handleAdd:I,submitCount:l.submitCount,meta:x,setTouched:w,handleDelete:k,disabled:h||n||l.isSubmitting,handleChange:e=>z(e,t),error:o()(x.error,`[${t}].answer`),disabledAddMore:C.length===v,disableRemove:C.length===g})),x.error&&!P?d.createElement(c.Z,{error:null===(m=x.error)||void 0===m?void 0:m.toString()}):null)};var x=y},31818:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r,i,a=n(85597),l=n(76224),o=n(17888),s=n(42853),u=n(19316),d=n(84917),c=n(74825),m=n(16681),p=n(81719),f=n(18948),g=n(68929),v=n.n(g),h=n(67294),b=n(22410),E=n(73327),y=(0,b.Z)(e=>(0,E.Z)({root:{paddingLeft:0,"& .MuiSelect-root":{paddingLeft:e.spacing(5)}},startIcon:{position:"absolute",left:e.spacing(2)}}),{name:"PrivacyField"});(r=i||(i={}))[r.Everyone=0]="Everyone",r[r.Friends=2]="Friends",r[r.Friends_of_friends=3]="Friends_of_friends",r[r.Only_me=4]="Only_me",r[r.Custom=10]="Custom",r[r.Community=1]="Community";let x=[{label:"Public",value:i.Everyone,icon:"ico-globe"},{label:"Community",value:i.Community,icon:"ico-user-circle"},{label:"Friends",value:i.Friends,icon:"ico-user-two-men"},{label:"Friends of Friends",value:i.Friends_of_friends,icon:"ico-user-man-three"},{label:"Only Me",value:i.Only_me,icon:"ico-lock"},{label:"Custom",value:i.Custom,icon:"ico-gear"}],Z=e=>{var t;return null===(t=x.find(t=>t.value==e))||void 0===t?void 0:t.icon},w=(0,p.ZP)(u.Z,{name:"AvatarWrapper"})(({theme:e})=>({position:"absolute",left:e.spacing(2),width:e.spacing(3),justifyContent:"center"}));function C({config:e,name:t,disabled:n,formik:r}){let[u,,{setValue:p}]=(0,f.U$)(null!=t?t:"PrivacyField"),{disabled:g,description:b,options:E,label:x,variant:C,fullWidth:_,defaultValue:S,minWidth:k,sx:z}=e,{dialogBackend:I}=(0,a.OgA)(),P=y(),[A,R]=h.useState(u.value||S||i.Everyone),M=h.useCallback(e=>{e===i.Custom?$():(R(e),p(e))},[A]),$=()=>{I.present({component:"dialog.DialogCustomListPrivacy",props:{value:A}}).then(e=>{e&&(p(e),R(e))})},N=E.find(e=>Array.isArray(A)?e.value===i.Custom:e.value===A);return h.createElement(o.Z,{margin:"normal",fullWidth:_,variant:C,sx:{...z,minWidth:k},"data-testid":v()(`field ${t}`)},h.createElement(m.Z,{className:P.root,value:Array.isArray(A)?i.Custom:A,sx:{paddingLeft:0},disabled:g||n||r.isSubmitting,onBlur:u.onBlur,label:x,startAdornment:h.createElement(w,{position:"start"},h.createElement(l.zb,{icon:Z(Array.isArray(A)?i.Custom:A)})),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null,transformOrigin:{vertical:"top",horizontal:"left"},"data-testid":v()(`menu ${t}`),PaperProps:{style:{maxHeight:200}}}},E?E.map((e,t)=>h.createElement(c.Z,{value:e.value,"data-value":e.value,key:t.toString(),onClick:()=>M(e.value)},e.label)):null),h.createElement(d.Z,{id:`label-${t}`},x),(null==N?void 0:N.description)?h.createElement(s.Z,null,null==N?void 0:N.description):null,b?h.createElement(s.Z,null,b):null)}},84377:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(85597),i=n(76224),a=n(30120),l=n(21822),o=n(81719),s=n(91647),u=n(18948),d=n(12902),c=n(27361),m=n.n(c),p=n(47037),f=n.n(p),g=n(67294),v=n(90798),h=n(22949),b=n(68929),E=n.n(b),y=n(60888),x=n(59462),Z=n(20399),w=n(38790),C=n(22410),_=n(73327),S=(0,C.Z)(e=>(0,_.Z)({question:{marginBottom:e.spacing(1)},title:{fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(15)},titleWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center"},answerItem:{display:"flex",alignItems:"center"},endAdornmentButton:{width:"calc(100% / 3 * 1)",display:"flex",alignItems:"center"},buttonWrapper:{display:"flex",width:"100%",justifyContent:"flex-start",alignItem:"center"},radioButton:{width:40,height:40},input:{padding:e.spacing(0,2),height:48,"&::placeholder":{color:e.palette.text.secondary,opacity:1}},button:{fontWeight:e.typography.fontWeightBold,fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,cursor:"pointer",display:"flex",alignItems:"center","&:hover":{textDecoration:"underline"}},questionInput:{"& .MuiOutlinedInput-root":{borderRadius:e.spacing(.5)}},answerInput:{width:"calc(100% / 3 * 2)","& .MuiOutlinedInput-root":{borderRadius:e.spacing(.5)}},endAdornment:{cursor:"pointer"}}),{name:"QuizQuestion"});let k=(0,o.ZP)("div",{name:"AnswerItem",slot:"IconClose"})(({theme:e})=>({cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",width:e.spacing(5),height:e.spacing(5),margin:e.spacing(0,.5),"& .ico":{fontSize:e.mixins.pxToRem(18),color:e.palette.text.hint}})),z=(0,o.ZP)("div",{name:"AnswerItem",slot:"Radiogroup"})(({theme:e})=>({display:"flex",alignItems:"center"})),I=({lastElement:e,index:t,item:n,disabled:a,questionIndex:l,addMoreAnswer:o,handleDeleteAnswer:u,handleChangeAnswer:d,handleChangeCorrectAnswer:c,submitCount:m,error:p})=>{let f=S(),{i18n:b}=(0,r.OgA)(),[E,C]=g.useState(!1),_=Boolean(p&&(E||m));return g.createElement(g.Fragment,null,g.createElement("div",{key:t,className:f.answerItem},g.createElement(h.Z,{className:f.answerInput,onBlur:()=>C(!0),variant:"outlined",margin:"dense",disabled:a,required:!0,placeholder:b.formatMessage({id:"answer_index"},{index:t+1}),defaultValue:n.answer,error:_,onChange:e=>d(e,l,t)}),g.createElement("div",{className:f.endAdornmentButton},g.createElement("div",{className:f.buttonWrapper},g.createElement(k,{onClick:u},g.createElement(w.Z,{title:b.formatMessage({id:"remove_answer"}),placement:"top"},g.createElement(i.zb,{icon:"ico-close"}))),g.createElement(z,null,g.createElement(Z.Z,{checked:Boolean(n.is_correct),icon:g.createElement(x.Z,null),checkedIcon:g.createElement(y.Z,null),disabled:a,name:"checkedH",color:"primary",onChange:e=>c(e,l,t),className:f.radioButton}),g.createElement(s.Z,{variant:"body1",color:"text.hint",sx:{display:{sm:"block",xs:"none"}}},b.formatMessage({id:"correct_answer"})))))),_?g.createElement(v.Z,{error:p}):null)};var P=(0,g.memo)(I);let A=(0,o.ZP)("div",{name:"QuizItem",slot:"wrapper-answer"})(({theme:e})=>({borderLeft:e.mixins.border("secondary"),paddingLeft:e.spacing(2),marginBottom:e.spacing(1.5)})),R=(0,o.ZP)(a.Z)(({theme:e})=>({margin:e.spacing(1,0)})),M=({index:e,item:t,name:n,disabled:i,maxLength:a,lastElement:o,error:s,submitCount:u,formik:d,handleChangeAnswer:c,handleChangeQuestion:p,addMoreQuestion:b,handleDeleteQuestion:y,addMoreAnswer:x,handleDeleteAnswer:Z,handleChangeCorrectAnswer:w})=>{let C=S(),{i18n:_}=(0,r.OgA)(),{question:k,answers:z}=t,I=g.useRef(!1),[M,$]=g.useState(!1);g.useEffect(()=>{d.isSubmitting&&(I.current=!0)},[d.isSubmitting]);let N=Boolean(m()(s,"question")&&(M||(I.current?u:0))),F=Boolean(m()(s,"answers.[0]")&&f()(m()(s,"answers.[0]"))&&(M||(I.current?u:0)));return g.createElement("div",null,g.createElement(h.Z,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,label:_.formatMessage({id:"question_with_index"},{value:e+1}),placeholder:_.formatMessage({id:"question_with_index"},{value:e+1}),disabled:i,defaultValue:k,onChange:t=>p(t,e),error:N,onBlur:()=>$(!0),inputProps:{maxLength:a,"data-testid":E()(`input question ${n}`)}}),N&&g.createElement(v.Z,{error:m()(s,"question")}),g.createElement(A,null,z.length>0&&z.map((t,n)=>g.createElement(P,{item:t,key:t.ordering,index:n,disabled:i,questionIndex:e,lastElement:n===z.length-1,addMoreAnswer:x,handleDeleteAnswer:()=>Z(t.ordering),handleChangeAnswer:c,handleChangeCorrectAnswer:w,submitCount:I.current?u:0,error:m()(s,`answers.[${n}].answer`)})),g.createElement("div",null,g.createElement(l.Z,{className:C.button,onClick:()=>x(),variant:"text",color:"primary",size:"small",disabled:i,sx:{fontWeight:500}},_.formatMessage({id:"add_answer"})),g.createElement(l.Z,{className:C.button,onClick:y,disabled:i,variant:"text",size:"small",color:"primary",sx:{fontWeight:500}},_.formatMessage({id:"remove_question"}))),F?g.createElement(R,null,g.createElement(v.Z,{error:m()(s,"answers")})):null))};var $=(0,g.memo)(M);let N=(0,o.ZP)(l.Z)(({theme:e})=>({fontSize:e.mixins.pxToRem(13),minWidth:e.spacing(6.25),"& .ico.ico-plus-circle-o":{marginRight:e.spacing(.75),fontSize:e.mixins.pxToRem(15)}})),F=(0,o.ZP)(a.Z)(({theme:e})=>({margin:e.spacing(1,0)})),T=({config:e,formik:t,name:n,disabled:a})=>{let{i18n:l,dialogBackend:o}=(0,r.OgA)(),{minQuestions:c,maxQuestions:p,minAnswers:h,maxAnswers:b,disabled:E,defaultAnswers:y,maxLength:x}=e,[{value:Z},w,{setValue:C}]=(0,u.U$)(null!=n?n:"QuizQuestion"),[_,k]=g.useState(Z||[]),z=g.useRef((null==Z?void 0:Z.length)||0),I=g.useRef(_.map(e=>e.answers[e.answers.length-1].ordering)||[]),P=S(),A=(e,t)=>{let{value:n}=e.target;k(e=>(0,d.ZP)(e,e=>{e[t].question=n?n.trim():""}))},R=(e,t,n)=>{let{value:r}=e.target;k(e=>(0,d.ZP)(e,e=>{e[t].answers[n].answer=r?r.trim():""}))},M=e=>{if(b>0&&_[e].answers.length>=b){o.alert({title:l.formatMessage({id:"limit_reached"}),message:l.formatMessage({id:"you_have_reached_maximum_number_answers_allowed_question"})});return}I.current=I.current.map((t,n)=>{return n===e?++t:t}),k(t=>(0,d.ZP)(t,t=>{let n={answer:"",ordering:I.current[e]};t[e].answers.push(n)}))},T=(e,t)=>{let n=_[e].answers;if(n){if(n.length<=Math.max(h,1)){o.alert({message:l.formatMessage({id:"you_must_have_min_answer"},{value:h})});return}k(r=>(0,d.ZP)(r,r=>{if(t){let i=r[e].answers.findIndex(e=>e.ordering===t);if(-1===i)return;let a=r[e].answers[i];r[e].answers.splice(i,1),a.is_correct&&(r[e].answers[0].is_correct=1)}else{let l=r[e].answers[n.length-1];l.is_correct&&(r[e].answers[0].is_correct=1),r[e].answers.pop()}}))}},O=()=>{if(p>0&&_.length>=p){o.alert({title:l.formatMessage({id:"limit_reached"}),message:l.formatMessage({id:"you_have_reached_maximum_number_allowed_question"})});return}let e=[],t=2;for(;e.length<(y||h);)0===e.length&&e.push({answer:"",is_correct:1,ordering:1}),e.push({answer:"",is_correct:0,ordering:t}),++t;k(t=>(0,d.ZP)(t,t=>{let n={answers:e,question:"",ordering:++z.current};t.push(n)}))},W=e=>{if(_.length<=Math.max(c,1)){o.alert({message:l.formatMessage({id:"you_must_have_min_question"},{value:c})});return}k(t=>(0,d.ZP)(t,t=>{if(e){let n=t.findIndex(t=>t.ordering===e);t.splice(n,1)}else t.pop()}))},B=(e,t,n)=>{k(e=>(0,d.ZP)(e,e=>{e[t].answers.forEach((e,t)=>{t===n?e.is_correct=1:e.is_correct=0})}))};g.useEffect(()=>{if(_.length<c)O();else{C(_);let e=_.map(e=>e.answers[e.answers.length-1].ordering);I.current=e}},[_]);let L=Boolean(w.error&&(w.touched||t.submitCount)),j=L&&f()(m()(w.error,"[0]"));return g.createElement("div",{className:P.question},null==_?void 0:_.map((e,r)=>g.createElement($,{index:r,key:e.ordering,maxLength:x,name:n,item:e,formik:t,disabled:E||a||t.isSubmitting,submitCount:t.submitCount,lastElement:r===_.length-1,handleChangeQuestion:A,handleChangeAnswer:R,addMoreQuestion:O,handleDeleteQuestion:()=>W(e.ordering),addMoreAnswer:()=>M(r),handleDeleteAnswer:e=>{T(r,e)},error:m()(w.error,`[${r}]`),handleChangeCorrectAnswer:B})),j&&g.createElement(F,null,g.createElement(v.Z,{error:w.error})),g.createElement("div",null,g.createElement(N,{className:P.button,variant:"outlined",color:"primary",disabled:E,onClick:O},g.createElement(i.zb,{icon:"ico-plus-circle-o"}),g.createElement(s.Z,{variant:"body1",sx:{fontWeight:"bold"}},l.formatMessage({id:"add_question"})))))};var O=T},82603:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r=n(85597),i=n(76224),a=n(27274),l=n(21822),o=n(17888),s=n(81719),u=n(18948),d=n(68929),c=n.n(d),m=n(73955),p=n.n(m),f=n(67294),g=n(90798),v=n(22410),h=n(73327),b=(0,v.Z)(e=>(0,h.Z)({root:{},item:{display:"flex",marginTop:e.spacing(1),fontSize:e.mixins.pxToRem(13),lineHeight:1.5},itemInfo:{display:"flex"}}),{name:"AttachmentField"});let E={width:2,position:"absolute",right:0,opacity:0},y=(0,s.ZP)(i.zb,{name:"AttachmentIcon"})(({theme:e})=>({paddingRight:e.spacing(.5),fontSize:e.mixins.pxToRem(15)})),x=(0,s.ZP)("div",{name:"AttachmentAction"})(({theme:e})=>({color:e.palette.primary.main,marginLeft:e.spacing(1.5),cursor:"pointer","&:hover":{textDecoration:"underline"}}));function Z({config:e,name:t,disabled:n,formik:s}){let{dialogBackend:d,i18n:m}=(0,r.OgA)(),[v,h,{setValue:Z}]=(0,u.U$)(null!=t?t:"rawFile"),{item_type:w,fullWidth:C=!0,margin:_="normal",size:S,max_upload_filesize:k,disabled:z,accept:I}=e,[P,A]=(0,f.useState)(v.value),R=b(),M=(0,f.useRef)(),$=e.placeholder||"Attach File";(0,f.useEffect)(()=>{Z(P)},[P]);let N=e=>{e.currentTarget.value=null},F=(0,f.useCallback)(()=>{d.confirm({message:m.formatMessage({id:"are_you_sure_you_want_to_delete_attachment_file"}),title:m.formatMessage({id:"are_you_sure"})}).then(e=>{e&&A(null)})},[]),T=(0,f.useCallback)(()=>{let e=M.current.files;if(0===e.length)return;let t={file_name:e.item(0).name,download_url:URL.createObjectURL(e.item(0)),file:e.item(0),key:p()("file"),fileItemType:w},n=t.file.size,r=t.file_name;if(n>k&&0!==k){d.alert({message:m.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,a.TX)(r,30),fileSize:(0,a.jA)(t.file.size),maxSize:(0,a.jA)(k)})});return}t&&A(t)},[P]),O=(0,f.useCallback)(()=>{M.current.click()},[]);return f.createElement(o.Z,{fullWidth:C,margin:_,size:S,"data-testid":c()(`field ${t}`)},P?f.createElement("div",{className:R.item},f.createElement("div",{className:R.itemInfo},f.createElement(y,{icon:"ico-paperclip-alt"}),f.createElement("div",null,P.file_name)),f.createElement(x,{onClick:()=>F()},m.formatMessage({id:"remove"}))):f.createElement("div",null,f.createElement(l.Z,{variant:"outlined",size:"small",color:"primary","data-testid":c()(`button ${t}`),onClick:O,disabled:z||n||s.isSubmitting,startIcon:f.createElement(i.zb,{icon:"ico-paperclip-alt"})},$)),h.error&&f.createElement(g.Z,{error:h.error}),f.createElement("input",{onClick:N,"data-testid":c()(`input ${t}`),ref:M,style:E,accept:I,"aria-hidden":!0,type:"file",multiple:!1,onChange:T}))}},67969:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(85597),i=n(76224),a=n(17888),l=n(81719),o=n(18948),s=n(68929),u=n.n(s),d=n(67294);let c=(0,l.ZP)(i.zb,{name:"IconClearStyled"})(({theme:e})=>({marginRight:e.spacing(.5),cursor:"pointer"}));function m({config:{placeholder:e,size:t,margin:n="normal",fullWidth:l=!0,className:s,sx:m},name:p}){let{eventCenter:f}=(0,r.OgA)(),[g,,{setValue:v}]=(0,o.U$)(p),[h,b]=(0,d.useState)(g.value||""),{usePageParams:E}=(0,r.OgA)(),y=E();(0,d.useEffect)(()=>{(null==y?void 0:y.q)&&(b(null==y?void 0:y.q),v(null==y?void 0:y.q))},[y]),(0,d.useEffect)(()=>{f.dispatch("minimizeGlobalSearchForm",!0)});let x=d.useCallback(e=>{"Enter"===e.key&&(h?v(h.trim()):v(""),e.preventDefault())},[h]),Z=()=>{b(""),v("")};return d.createElement(a.Z,{size:t,margin:n,fullWidth:l,"data-testid":u()(`field ${p}`),sx:m},d.createElement(i.Rj,{name:"q",value:h,onChange:e=>b(e.target.value),placeholder:e,onKeyDown:x,endAdornment:h?d.createElement(c,{icon:"ico-close",onClick:Z}):null}))}},54397:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(30120),i=n(61394),a=n(78718),l=n.n(a),o=n(18446),s=n.n(o),u=n(57557),d=n.n(u),c=n(14176),m=n.n(c),p=n(67294),f=n(17563),g=n(96974),v=n(84635);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b({config:{excludeFields:e,label:t="Reset",align:n="right",...a},name:o,formik:u}){let c=(0,g.s0)(),{value:b}=(0,v.zK)(),E=d()({...b},e),y=d()({...u.values},e),x=l()({...u.values},e),Z=s()(E,m()(y,e=>!e)),w=p.useCallback(()=>{Z||(c({search:f.stringify({...E,...x})},{replace:!0}),u.resetForm())},[E,Z,x]);return p.createElement(r.Z,h({sx:{textAlign:n}},a),p.createElement(i.Z,{color:"primary",component:"span",variant:"body2",onClick:w,disabled:Z},t))}},95797:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(30120),i=n(61394),a=n(17888),l=n(78718),o=n.n(l),s=n(57557),u=n.n(s),d=n(18446),c=n.n(d),m=n(68929),p=n.n(m),f=n(67294),g=n(84635);function v({config:{excludeFields:e,label:t="Reset",align:n="right",size:l,margin:s,fullWidth:d,sxFieldWrapper:m},name:v,formik:h}){let{value:b}=(0,g.zK)(),E=u()({...b},e),y=u()({...h.values},e),x=o()({...h.values},e),Z=c()(E,y),w=f.useCallback(()=>{Z||h.resetForm({values:{...x,...E}})},[Z,E,x]);return f.createElement(a.Z,{size:l,margin:s,fullWidth:d,"data-testid":p()(`field ${v}`),sx:m},f.createElement(r.Z,{sx:{textAlign:n},component:"span"},f.createElement(i.Z,{color:"primary",component:"button",variant:"body2",onClick:w,disabled:Z},t)))}},87830:function(e,t,n){"use strict";n.r(t);var r=n(27274),i=n(39348),a=n(30120),l=n(33483),o=n(17888),s=n(42853),u=n(22949),d=n(15949),c=n(18948),m=n(68929),p=n.n(m),f=n(27361),g=n.n(f),v=n(1469),h=n.n(v),b=n(96026),E=n.n(b),y=n(67294),x=n(81719);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let w=(0,x.ZP)("span")(({theme:e})=>({paddingLeft:e.spacing(1.5)})),C=({config:e,disabled:t,required:n,name:m,formik:f})=>{let[v,b,{setValue:x,setTouched:C}]=(0,c.U$)(null!=m?m:"SelectField"),{label:_,margin:S,disabled:k,fullWidth:z,hiddenLabel:I,required:P,variant:A,size:R,sx:M,sxFieldWrapper:$,description:N,defaultValue:F="",value_type:T,multiple:O=!1,autoComplete:W="off",options:B=[],subOptionPrefix:L=" â€¢ ",suboptions:j={},allowParent:q=!0,subOptionKey:D="options",labelProp:U="label",valueProp:V="value",relatedFieldName:H,optionRelatedMapping:Q,alwaysShow:G,disableClearable:K}=e,[X]=(0,c.U$)(null!=H?H:`${m}_child`),[Y,J]=y.useState([]),[ee,et]=y.useState([]);y.useEffect(()=>{if(H){if(Q){if(h()(null==X?void 0:X.value))return;et(Q[null==X?void 0:X.value]||[]);return}h()(null==X?void 0:X.value)?J(null==X?void 0:X.value):J([null==X?void 0:X.value])}},[H,null==X?void 0:X.value]);let en=!!(b.error&&(b.touched||f.submitCount)),er=(0,d.D)({stringify:({label:e})=>`${e}`}),ei=(e,t)=>g()(e,"value")==g()(t,"value"),ea=y.useCallback((e,t)=>{let n=t.prefix?1:0;return(null==t?void 0:t.level)&&(n=(null==t?void 0:t.level)-1),y.createElement(a.Z,Z({component:"li"},e,{key:`${null==t?void 0:t.value}${null==t?void 0:t.label}`}),n?E()(0,n).map(()=>y.createElement(w,null)):"",t.label)},[]),el=e=>{var t;return null!==(t=g()(e,"label"))&&void 0!==t?t:""},eo=y.useMemo(()=>{let e=[];return(h()(B)&&(e=ee.length&&Q?ee:B.filter(e=>!Y.includes(e.value))),h()(B))?(0,r.o2)(e,j,q,D,L,0,V,U):[]},[Q,ee,B,j,D,q,L,V,U,Y]),es=y.useMemo(()=>{let e={};return eo.forEach(t=>{e[t.value]=t}),e},[eo]),eu=e=>{h()(e)?x(e.map(e=>e.value)):x([])},ed=y.useCallback(e=>{if(e){let t=e.value;x("array"===T?[t]:t)}else x("array"===T?[]:null)},[]),ec=O?eu:ed,em=y.useMemo(()=>{if(O)return h()(v.value)?v.value.map(e=>es[e]).filter(e=>void 0!==e):[];{let e=h()(v.value)?v.value[0]:v.value;if(void 0!==e)return es[e]}},[v.value,O,es]);if(y.useEffect(()=>{void 0===em&&(null==v?void 0:v.value)&&H&&Q&&setTimeout(()=>{x(O?[]:"")},500)},[em,null==v?void 0:v.value]),!eo.length&&!G)return null;let ep=e=>{13===e.keyCode&&e.preventDefault()},ef=e=>{v.onBlur(e),C(!0)},eg=e=>{return y.createElement(u.Z,Z({},e,{label:_,variant:A,size:R,fullWidth:!0,onKeyDown:ep,error:en,required:P||n,inputProps:{...e.inputProps,"data-testid":p()(`input ${m}`),autoComplete:W},sx:M}))},ev=(e,t)=>{return e.map((e,n)=>{return y.createElement(l.Z,Z({},t({index:n}),{key:null==e?void 0:e.value,label:null==e?void 0:e.label}))})};return y.createElement(o.Z,{margin:null!=S?S:"normal",disabled:k,fullWidth:z,hiddenLabel:I,required:P||n,sx:$,error:en,size:R,variant:A,"data-testid":p()(`field ${m}`)},y.createElement(i.Z,{filterOptions:er,disableClearable:K||P,openOnFocus:!0,value:null!=em?em:F,disabled:k||t||f.isSubmitting,defaultValue:eo[0],onChange:(e,t)=>ec(t),onBlur:ef,id:`select-${m}`,sx:M,isOptionEqualToValue:ei,options:eo,getOptionDisabled:e=>e.disabled,multiple:O,getOptionLabel:el,autoHighlight:!0,renderInput:eg,renderOption:ea,renderTags:ev,ListboxProps:{"data-testid":p()(`menu ${m}`)},"data-testid":p()(`input ${m}`)}),N&&y.createElement(s.Z,{children:N}),en&&y.createElement(s.Z,null,null==b?void 0:b.error))};t.default=C},74995:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(85597),i=n(76224),a=n(27274),l=n(30120),o=n(21822),s=n(17888),u=n(91647),d=n(81719),c=n(18948),m=n(68929),p=n.n(m),f=n(73955),g=n.n(f),v=n(67294),h=n(90798);let b=(0,d.ZP)(o.Z,{name:"DropButton",slot:"DropButton"})(({theme:e,isOver:t})=>({...t&&{backgroundColor:e.palette.action.hover}})),E=(0,d.ZP)("div",{name:"VideoUploaded"})(({theme:e})=>({display:"flex",fontSize:e.mixins.pxToRem(13),"& .ico-video":{fontSize:e.mixins.pxToRem(15)}})),y=(0,d.ZP)("div",{name:"DropzoneBox"})(({theme:e})=>({width:"fit-content"}));function x({name:e,config:t,disabled:n,formik:o}){var d,m;let{label:f="Select Video",description:x,item_type:Z,accept:w="video/*",max_upload_filesize:C,upload_url:_,disabled:S}=t,{dialogBackend:k,i18n:z}=(0,r.OgA)(),[I,P,{setValue:A}]=(0,c.U$)(null!=e?e:"ItemPhotoField"),[R,M]=v.useState(!1),$=(0,v.useRef)(),N=()=>{$.current.click()},F=()=>{M(!1),A(void 0)},T=e=>{let t={id:0,uid:g()("file"),source:URL.createObjectURL(e),file:e,file_name:e.name,file_type:e.type,file_size:e.size,fileItemType:Z,upload_url:_,status:"create"},n=t.file.size;if(n>C&&0!==C){k.alert({message:z.formatMessage({id:"warning_upload_limit_one_file"},{fileName:(0,a.TX)(t.file_name,30),fileSize:(0,a.jA)(t.file.size),maxSize:(0,a.jA)(C)})});return}t&&(A(t),M(!0))},O=()=>{let e=$.current.files;e&&T(e.item(0))},W=e=>{if(!e)return;let t=e[0];T(t)},B=e=>{e.currentTarget.value=null},L=!!(P.error&&(P.touched||o.submitCount));return v.createElement(s.Z,{fullWidth:!0,margin:"normal","data-testid":p()(`field ${e}`)},v.createElement(u.Z,{variant:"body2",color:"text.secondary",mb:1.5,component:"p"},R?z.formatMessage({id:"video_file_selected"}):x),R?v.createElement(E,null,v.createElement(i.zb,{icon:"ico-video"}),v.createElement(l.Z,{ml:1,mr:1},(0,a.TX)(null===(d=I.value)||void 0===d?void 0:null===(m=d.file)||void 0===m?void 0:m.name,30)),v.createElement(u.Z,{variant:"body2",color:"primary",component:"span",role:"button",onClick:F},z.formatMessage({id:"remove"}))):v.createElement(y,null,v.createElement(i.Kb,{onDrop:e=>W(e),render:({canDrop:t,isOver:r})=>v.createElement(b,{onClick:N,size:"small",color:"primary",sx:{fontWeight:"bold"},isOver:r,variant:"outlined",disabled:S||n||o.isSubmitting,"data-testid":p()(`button ${e}`),startIcon:v.createElement(i.zb,{icon:"ico-upload"})},f)})),L?v.createElement(h.Z,{error:P.error}):null,v.createElement("input",{ref:$,onClick:B,className:"srOnly",type:"file","data-testid":p()(`input ${e}`),multiple:!1,accept:w,onChange:O}))}}}]);