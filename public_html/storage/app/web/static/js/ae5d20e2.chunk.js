"use strict";(self.webpackChunk_metafox_react=self.webpackChunk_metafox_react||[]).push([["metafox-event-blocks-EventDetail-Block"],{44468:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var n=a(85597),i=a(14787),l=a(58394),r=a(24456),o=a(96338),m=a(84116),c=a(21241),d=a(76224),s=a(30120),p=a(21822),g=a(50130),u=a(81719),v=a(91647),h=a(62097),f=a(18446),x=a.n(f),E=a(41609),y=a.n(E),b=a(67294),_=a(22410),k=a(73327);let w=(0,_.Z)(e=>(0,k.Z)({root:{[e.breakpoints.down("sm")]:{marginTop:"-4px","& $viewContainer":{borderRadius:0,marginTop:"0 !important",border:"none"},"& $headingWrapper":{flexDirection:"row-reverse"},"& $calendar":{width:80,height:80,marginRight:e.spacing(0),marginLeft:e.spacing(2)},"& $month":{height:"22px",lineHeight:"22px"},"& $day":{fontSize:32,marginTop:e.spacing(1)},"& $year":{fontSize:13,marginTop:e.spacing(1)},"& $heading":{paddingTop:e.spacing(3)},"& $timeLocation":{marginTop:e.spacing(3)}}},viewContainer:{width:"100%",maxWidth:720,marginLeft:"auto",marginRight:"auto",borderRadius:8,backgroundColor:e.mixins.backgroundColor("paper"),border:e.mixins.border("secondary"),marginTop:e.spacing(0),padding:e.spacing(0,2,.5,2)},headingWrapper:{display:"flex"},calendar:{width:120,height:120,boxShadow:"1.4px 1.4px 6px 0 rgba(0, 0, 0, 0.1)",marginRight:e.spacing(2),fontWeight:"bold",textAlign:"center",borderBottomRightRadius:e.spacing(.5),borderBottomLeftRadius:e.spacing(.5),..."dark"===e.palette.mode&&{background:`${e.palette.grey["700"]} !important`}},month:{height:"32px",lineHeight:"32px",background:e.palette.primary.main,color:"#fff",textTransform:"uppercase"},day:{fontSize:40,lineHeight:.7,color:"dark"===e.palette.mode?e.palette.text.primary:e.palette.primary.main,marginTop:e.spacing(2)},year:{fontSize:18,lineHeight:1,color:"dark"===e.palette.mode?e.palette.text.primary:e.palette.primary.main,marginTop:e.spacing(1.5)},heading:{flex:1,minWidth:0,paddingTop:e.spacing(3)},itemTitle:{fontSize:e.spacing(3),lineHeight:1,fontWeight:e.typography.fontWeightBold},itemFlag:{display:"inline-flex",justifyContent:"center",verticalAlign:"bottom","& .MuiFlag-itemView":{padding:e.spacing(.5,0)}},categories:{display:"flex",flexWrap:"wrap","& > div":{lineHeight:e.spacing(2)},"& > a":{margin:`${e.spacing(1)}px ${e.spacing(1)}px ${e.spacing(1)}px 0`}},timeLocation:{fontSize:18,lineHeight:1.2,color:"dark"===e.palette.mode?e.palette.text.secondary:e.palette.text.hint,marginTop:e.spacing(2),"& .ico":{fontSize:20,marginRight:e.spacing(1.5)}},time:{},location:{marginTop:e.spacing(1.5)},actionGroup:{height:e.spacing(5),display:"inline-flex",marginTop:e.spacing(2),[e.breakpoints.down("xs")]:{display:"flex"},[e.breakpoints.down("sm")]:{width:"calc(100% - 56px)","& > .MuiButtonBase-root":{justifyContent:"inherit",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),"& .ico-caret-down":{marginLeft:"auto"}}},"& >*":{marginRight:`${e.spacing(1)} !important`}},actionMenu:{border:"1px solid",width:"40px",height:"40px",borderRadius:e.spacing(.5),display:"flex",alignItems:"center",color:e.palette.primary.main,justifyContent:"center","& .ico":{color:e.palette.primary.main}},iconButton:{flex:1,minWidth:0,marginRight:e.spacing(1),border:"1px solid",height:"40px",borderRadius:e.spacing(.5),display:"flex",alignItems:"center",color:e.palette.text.primary,justifyContent:"center",fontSize:e.mixins.pxToRem(18),fontWeight:e.typography.fontWeightBold,padding:e.spacing(0,2),"& .ico":{fontSize:e.mixins.pxToRem(18),marginRight:e.spacing(1)}},activeIconButton:{color:e.palette.primary.main},itemContent:{fontSize:15,lineHeight:1.33,marginTop:e.spacing(3),marginBottom:e.spacing(5),"& p + p":{marginBottom:e.spacing(2.5)}},eventIsEnd:{"&.Mui-disabled":{..."dark"===e.palette.mode&&{color:`${e.palette.text.disabled} !important`}}}}),{name:"MuiEventViewDetail"}),T="EventDetail",$=(0,u.ZP)("div",{name:T,slot:"attachmentTitle"})(({theme:e})=>({fontSize:e.mixins.pxToRem(18),marginTop:e.spacing(4),color:e.palette.text.secondary,fontWeight:e.typography.fontWeightBold})),Z=(0,u.ZP)(g.Z,{name:T,slot:"IconButtonAction"})(({theme:e})=>({..."dark"===e.palette.mode&&{"&:hover":{backgroundColor:e.palette.grey[700]}}})),N=(0,u.ZP)("div",{name:T,slot:"attachment"})(({theme:e})=>({width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-between"})),C=(0,u.ZP)("div",{name:T,slot:"attachmentItemWrapper"})(({theme:e})=>({marginTop:e.spacing(2),flexGrow:0,flexShrink:0,flexBasis:"100%",minWidth:300})),z=(0,u.ZP)(v.Z)(({theme:e})=>({backgroundColor:e.palette.background.default,borderRadius:4,display:"inline-flex",alignItems:"center",justifyContent:"center",height:"32px",padding:`0 ${e.spacing(2)}`,marginBottom:e.spacing(1.5),transform:"translateY(-4px)"})),M=(0,u.ZP)(p.Z,{name:"ButtonInviteStyled"})(({theme:e})=>({height:"100%",borderColor:e.palette.primary.main,"& .MuiButton-startIcon":{marginLeft:0}})),S=(0,u.ZP)("div",{name:"LocationStyled"})(({theme:e})=>({marginTop:e.spacing(1.5),display:"flex"})),R=(0,u.ZP)("div",{name:"LocationTextStyled"})(({theme:e})=>({})),B=(0,u.ZP)(s.Z,{name:"LinkStyled"})(({theme:e})=>({paddingTop:e.spacing(.5),cursor:"pointer",fontSize:e.mixins.pxToRem(13),color:e.palette.primary.main,margin:e.spacing(0,.5)}));function W({handleAction:e,identity:t,state:a,item:i,user:g}){var u,f,E,_;let k=w(),{i18n:T,ItemActionMenu:W,ItemDetailInteraction:I,useGetItems:L,useSession:P,getSetting:H,navigate:Y}=(0,n.OgA)(),{user:j,loggedIn:A}=P(),D=(null==j?void 0:j.id)===(null==g?void 0:g.id),V=(0,h.Z)(),F=H("event.default_time_format"),U=L(null==i?void 0:i.categories),G=L(null==i?void 0:i.attachments);if(!i||y()(i))return null;let{rsvp:Q,description:q,is_pending:O,location:K}=i,[X,J]=(0,o.IY)(i.start_time,i.end_time,F===l.N3),ee=(0,o.nd)(i.end_time),et=D?null:b.createElement(r.Z,{disabled:x()(null===(u=i.extra)||void 0===u?void 0:u.can_rsvp,!1),identity:t,handleAction:e,rsvp:Q}),ea=()=>{let e=K.lat,t=K.lng,a=K.lng,n=K.lat;Y({pathname:"/event/search-map/",search:`?${l.lQ}=${e}&${l.Ms}=${a}&${l.P5}=${t}&${l.UH}=${n}`})};return b.createElement(c.gO,{testid:`detailview ${i.resource_name}`},b.createElement(c.sU,null,b.createElement("div",{className:k.root},b.createElement("div",{className:k.viewContainer},b.createElement("div",{className:k.headingWrapper},b.createElement("div",{className:k.calendar},b.createElement("div",{className:k.month},b.createElement(d.r2,{"data-testid":"startDate",value:i.start_time,format:"MMM"})),b.createElement("div",{className:k.day},b.createElement(d.r2,{"data-testid":"startTime",value:i.start_time,format:"DD"})),b.createElement("div",{className:k.year},b.createElement(d.r2,{"data-testid":"startYear",value:i.start_time,format:"YYYY"}))),b.createElement("div",{className:k.heading},D?b.createElement(z,null,b.createElement(v.Z,{variant:"body2",fontWeight:600,color:"text.hint"},T.formatMessage({id:"your_event"}))):null,b.createElement("div",{className:k.categories},b.createElement(d.ot,{to:"/event/category",data:U,sx:{mb:1,mr:2}})),b.createElement(d.XQ,{variant:"h3",component:"div",pr:2,showFull:!0},b.createElement("div",{className:k.itemFlag},b.createElement(d.K6,{variant:"itemView",value:i.is_featured}),b.createElement(d.k5,{variant:"itemView",value:i.is_sponsor}),b.createElement(d.ch,{variant:"itemView",value:O})),b.createElement(v.Z,{component:"h1",variant:"h3",className:k.itemTitle,sx:{display:"inline"}},i.title)))),b.createElement("div",{className:k.timeLocation},b.createElement("div",{className:k.time},b.createElement(d.zb,{icon:"ico-clock-o"}),X&&T.formatMessage({id:"event_start_at"},{value:X}),J&&T.formatMessage({id:"event_end_at"},{value:J})),(null==K?void 0:K.lat)&&(null==K?void 0:K.lng)&&b.createElement(S,null,b.createElement(d.zb,{icon:"ico-checkin-o"}),b.createElement(R,null,b.createElement("div",null,null==K?void 0:K.address),b.createElement(s.Z,{sx:{display:"flex"}},b.createElement(B,{component:"span",onClick:ea},T.formatMessage({id:"view_on_map"})),"\xb7",b.createElement(B,{component:"a",href:`http://maps.google.com/?q=${null==K?void 0:K.address}`,target:"_blank"},T.formatMessage({id:"view_on_google_maps"}))))),i.event_url&&b.createElement("div",{className:k.location},b.createElement(d.zb,{icon:"ico-link"}),b.createElement(n.QVN,{to:"",href:i.event_url,target:"_blank"},i.event_url)),null!==i.privacy_detail&&b.createElement("div",{className:k.location},b.createElement(d.Cd,{value:null==i?void 0:i.privacy,item:null==i?void 0:i.privacy_detail,privacyText:!0}))),A?b.createElement("div",{className:k.actionGroup},ee?b.createElement(p.Z,{className:k.eventIsEnd,variant:"contained",disabled:!0,sx:{backgroundColor:`${V.palette.background.default} !important`,color:`${V.palette.text.hint} !important`}},T.formatMessage({id:"event_is_end"})):et,b.createElement(s.Z,null,b.createElement(W,{menuName:"itemInviteMenu",state:a,handleAction:e,className:k.actionMenu,control:b.createElement(M,{size:"small",variant:"outlined",component:"h5",startIcon:b.createElement(d.zb,{sx:{marginLeft:"0 !important"},icon:"ico-envelope"})},b.createElement("span",null,T.formatMessage({id:"invite"})))})),b.createElement(s.Z,null,b.createElement(W,{identity:t,state:a,handleAction:e,className:k.actionMenu,control:b.createElement(Z,{color:"primary",variant:"outlined-square",size:"medium"},b.createElement(d.zb,{icon:"ico-dottedmore-o"}))}))):null,b.createElement(s.Z,{component:"div",mt:3,className:k.itemContent},b.createElement(m.ZP,{html:q})),(null==G?void 0:G.length)>0&&b.createElement(b.Fragment,null,b.createElement($,null,T.formatMessage({id:"attachments"})),b.createElement(N,null,G.map(e=>{return b.createElement(C,{key:null==e?void 0:e.id.toString()},b.createElement(d.M$,{fileName:null==e?void 0:e.file_name,downloadUrl:null==e?void 0:e.download_url,isImage:null==e?void 0:e.is_image,fileSizeText:null==e?void 0:e.file_size_text,size:"large",image:null==e?void 0:e.image}))}))),(null===(f=i.extra)||void 0===f?void 0:f.can_comment)||(null===(E=i.extra)||void 0===E?void 0:E.can_like)||(null===(_=i.extra)||void 0===_?void 0:_.can_share)?b.createElement(I,{identity:t,state:a,handleAction:e,hideListComment:!0,hideComposerInListComment:!0}):null))))}W.displayName="EventDetail";let I=(0,n.Uh$)((0,i.Y)(W,i.c));var L=(0,n.j4Z)({extendBlock:I,defaults:{placeholder:"Search"}})},14787:function(e,t,a){a.d(t,{Y:function(){return n.jEo},c:function(){return i.Z}});var n=a(85597),i=a(1065)}}]);